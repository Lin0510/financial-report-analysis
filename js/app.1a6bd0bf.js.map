{"version":3,"file":"js/app.1a6bd0bf.js","mappings":"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","sources":["webpack://analyze/./src/App.vue?cb76","webpack://analyze/./src/App.vue","webpack://analyze/./src/components/FinancialReport.vue?ce8e","webpack://analyze/./src/components/FinancialReport.vue","webpack://analyze/./src/components/Moat.vue","webpack://analyze/./src/components/Moat.vue?1c3e","webpack://analyze/./src/components/Risk.vue","webpack://analyze/./src/components/Risk.vue?018d","webpack://analyze/./src/components/Instructions.vue","webpack://analyze/./src/components/Instructions.vue?f7de","webpack://analyze/./src/components/Modal.vue","webpack://analyze/./src/components/Modal.vue?db1b","webpack://analyze/./src/components/RealEstateInvestmentTrust.vue","webpack://analyze/./src/components/RealEstateInvestmentTrust.vue?9e59","webpack://analyze/./src/components/Bank.vue","webpack://analyze/./src/components/Bank.vue?4db6","webpack://analyze/./src/components/RoiCalculator.vue","webpack://analyze/./src/components/RoiCalculator.vue?2a72","webpack://analyze/./src/router/index.ts","webpack://analyze/./src/main.ts","webpack://analyze/webpack/bootstrap","webpack://analyze/webpack/runtime/chunk loaded","webpack://analyze/webpack/runtime/compat get default export","webpack://analyze/webpack/runtime/define property getters","webpack://analyze/webpack/runtime/global","webpack://analyze/webpack/runtime/hasOwnProperty shorthand","webpack://analyze/webpack/runtime/make namespace object","webpack://analyze/webpack/runtime/jsonp chunk loading","webpack://analyze/webpack/startup"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"使用說明\")\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"美股財報分析\")\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"財報關鍵指標評分\")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"護城河優勢\")\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"風險扣分\")\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"REITs評分標準\")\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"銀行股評分標準\")\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"年化報酬率計算\")\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"h-6\" }, null, -1)\n\nimport { ref } from \"vue\";\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\nconst activeIndex = ref(\"1\");\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\")!\n  const _component_el_sub_menu = _resolveComponent(\"el-sub-menu\")!\n  const _component_el_menu = _resolveComponent(\"el-menu\")!\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_el_menu, {\n      \"default-active\": activeIndex.value,\n      class: \"el-menu-demo\",\n      mode: \"horizontal\",\n      router: true\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_menu_item, { index: \"instructions\" }, {\n          default: _withCtx(() => [\n            _hoisted_1\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_sub_menu, { index: \"report\" }, {\n          title: _withCtx(() => [\n            _hoisted_2\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_component_el_menu_item, { index: \"report\" }, {\n              default: _withCtx(() => [\n                _hoisted_3\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_menu_item, { index: \"moat\" }, {\n              default: _withCtx(() => [\n                _hoisted_4\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_menu_item, { index: \"risk\" }, {\n              default: _withCtx(() => [\n                _hoisted_5\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_menu_item, { index: \"reits\" }, {\n          default: _withCtx(() => [\n            _hoisted_6\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_menu_item, { index: \"bank\" }, {\n          default: _withCtx(() => [\n            _hoisted_7\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_menu_item, { index: \"roi\" }, {\n          default: _withCtx(() => [\n            _hoisted_8\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"default-active\"]),\n    _hoisted_9,\n    _createVNode(_component_router_view)\n  ], 64))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./App.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./App.vue?vue&type=style&index=0&id=806a137a&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withKeys as _withKeys, normalizeClass as _normalizeClass, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, unref as _unref, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-12758e89\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" 如果輸入完股票代碼後，點擊 MorningStar 網址沒辦法直接跳轉到該股票公司數據頁面， 這邊需要前往這個網站\")\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  style: {\"text-decoration\":\"none\"},\n  target: \"_blank\",\n  href: \"https://cors-anywhere.herokuapp.com/https://www.morningstar.com/\"\n}, \" cors-anywhere\", -1))\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"， 並點擊 Request temporary access to the demo server，點選完之後會跳出 You currently have temporary access to the demo server.， 此時 MorningStar 網址就可以正常跳轉了 \")\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  style: {\"text-decoration\":\"none\"},\n  target: \"_blank\",\n  href: \"https://cors-anywhere.herokuapp.com/https://www.morningstar.com/\"\n}, \"cors-anywhere\", -1))\nconst _hoisted_5 = {\n  key: 0,\n  class: \"mt-3 container\"\n}\nconst _hoisted_6 = { class: \"row justify-content-center\" }\nconst _hoisted_7 = { class: \"col-md-4 col-sm-10\" }\nconst _hoisted_8 = { class: \"input-group has-validation\" }\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = {\n  key: 0,\n  class: \"invalid-feedback\"\n}\nconst _hoisted_11 = { class: \"input-group-append button-group\" }\nconst _hoisted_12 = [\"disabled\"]\nconst _hoisted_13 = {\n  key: 0,\n  class: \"spinner-border spinner-border-sm\",\n  style: {\"margin-right\":\"10px\"}\n}\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\" 查詢 \")\nconst _hoisted_15 = [\"disabled\"]\nconst _hoisted_16 = /*#__PURE__*/_createTextVNode(\" 清除 \")\nconst _hoisted_17 = {\n  key: 1,\n  class: \"container\"\n}\nconst _hoisted_18 = { class: \"row justify-content-center\" }\nconst _hoisted_19 = { class: \"col-md-4 col-sm-8\" }\nconst _hoisted_20 = { class: \"form-group\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"stockLabel\" }, \"分析股票代碼\", -1))\nconst _hoisted_22 = [\"value\"]\nconst _hoisted_23 = { class: \"form-group\" }\nconst _hoisted_24 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"nameLabel\" }, \"股票名稱\", -1))\nconst _hoisted_25 = [\"value\"]\nconst _hoisted_26 = { class: \"form-group\" }\nconst _hoisted_27 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"priceLabel\" }, \"現在股價\", -1))\nconst _hoisted_28 = { class: \"input-group\" }\nconst _hoisted_29 = [\"value\", \"disabled\"]\nconst _hoisted_30 = {\n  key: 0,\n  class: \"invalid-feedback\"\n}\nconst _hoisted_31 = {\n  key: 1,\n  class: \"input-groutruep-append\",\n  style: {\"padding\":\"0 0.5rem\"}\n}\nconst _hoisted_32 = { class: \"text-center button-group\" }\nconst _hoisted_33 = /*#__PURE__*/_createTextVNode(\" 編輯 \")\nconst _hoisted_34 = /*#__PURE__*/_createTextVNode(\" 匯出csv \")\nconst _hoisted_35 = { class: \"table\" }\nconst _hoisted_36 = /*#__PURE__*/_createTextVNode(\" MorningStar 異常跳轉 Solution \")\nconst _hoisted_37 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, null, -1))\nconst _hoisted_38 = [\"disabled\"]\nconst _hoisted_39 = {\n  key: 0,\n  class: \"spinner-border spinner-border-sm\",\n  style: {\"margin-right\":\"10px\"}\n}\nconst _hoisted_40 = /*#__PURE__*/_createTextVNode(\" 一鍵開啟財報網址 \")\nconst _hoisted_41 = { class: \"container\" }\nconst _hoisted_42 = /*#__PURE__*/_createTextVNode(\"給分\")\nconst _hoisted_43 = /*#__PURE__*/_createTextVNode(\"不給分\")\nconst _hoisted_44 = { style: {\"margin\":\"20px\"} }\nconst _hoisted_45 = { style: {\"display\":\"flex\",\"flex-direction\":\"row\",\"justify-content\":\"space-between\",\"align-items\":\"center\"} }\nconst _hoisted_46 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { style: {\"padding-right\":\"30%\"} }, \"總分 \", -1))\nconst _hoisted_47 = /*#__PURE__*/_createTextVNode(\"複製\")\nconst _hoisted_48 = /*#__PURE__*/_createTextVNode(\"清除\")\nconst _hoisted_49 = /*#__PURE__*/_createTextVNode(\"匯出 csv\")\n\nimport { ElCheckbox, TableColumnCtx } from \"element-plus\";\r\nimport { cloneVNode, ref, watch } from \"vue\";\r\nimport { nextTick } from \"vue\";\r\nimport {\r\n  Search,\r\n  CopyDocument,\r\n  CloseBold,\r\n  Download,\r\n  WarnTriangleFilled,\r\n} from \"@element-plus/icons-vue\";\r\nimport useClipboard from \"vue-clipboard3\";\r\nimport Papa from \"papaparse\";\r\nimport { useVuelidate } from \"@vuelidate/core\";\r\nimport { required } from \"@vuelidate/validators\";\r\nimport { Eleme } from \"@element-plus/icons-vue\";\r\nimport Modal from \"./Modal.vue\";\r\nimport axios from \"axios\";\r\n\r\n// =======================================================================\r\n// url\r\n// const stockRowIndex = \"https://stockrow.com/\";\r\n// const gurufocusIndex = \"https://www.gurufocus.com/\";\r\ninterface Reports {\r\n  indicator: \"\";\r\n  standard: \"\";\r\n  scoreStandard: \"\";\r\n  score: \"\";\r\n  url: \"\";\r\n}\r\n\r\ninterface SpanMethodProps {\r\n  row: Reports;\r\n  column: TableColumnCtx<Reports>;\r\n  rowIndex: number;\r\n  columnIndex: number;\r\n}\r\n\r\n// 股票代碼\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FinancialReport',\n  setup(__props) {\n\r\nconst morningStarIndex = \"https://www.morningstar.com/\";\r\nconst stockAnalysisInedx = \"https://stockanalysis.com/\";\r\n// const stockrowUrl = ref(stockRowIndex);\r\n// const incomeUrl = ref(stockRowIndex);\r\n// const balanceSheetUrl = ref(stockRowIndex);\r\n// const mertricsUrl = ref(stockRowIndex);\r\n// const gurufocusUrl = ref(gurufocusIndex);\r\nconst morningStarUrl = ref(morningStarIndex);\r\nconst stockAnalysisUrl = ref(stockAnalysisInedx);\r\nconst morningStarFinancialsUrl = ref(morningStarIndex);\r\nconst morningStarValuationUrl = ref(morningStarIndex);\r\nconst morningStarDividendUrl = ref(morningStarIndex);\r\n// -------------------------------------------\r\n// stock api\r\nconst AlphaVantageNameAPI = (stockCode: string) => {\r\n  return `https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${stockCode}&apikey=8FYMDC697PL6LEEL`;\r\n};\r\nconst AlphaVantageGlobalAPI = (stockCode: string) => {\r\n  return `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${stockCode}&apikey=LP46XK632CAP8PVK`;\r\n};\r\nconst IEXCloudAPI = (stockCode: string) => {\r\n  return `https://api.iex.cloud/v1/data/core/quote/${stockCode}?token=pk_a1bf9b4aef2045e2bcff3f6eb3bff015`;\r\n};\r\nconst PolygonAPI = (stockCode: string) => {\r\n  return `https://api.polygon.io/v1/last_quote/stocks/${stockCode}?apiKey=FwKVpAWvGdWPLQSgeDMnQC3aaxzvGtDg`;\r\n};\r\nconst finnhubNameAPI = (stockCode: string) => {\r\n  return `https://finnhub.io/api/v1/stock/profile2?symbol=${stockCode}&token=cp7v0m1r01qi8q89cl60cp7v0m1r01qi8q89cl6g`;\r\n};\r\nconst finnhubAPI = (stockCode: string) => {\r\n  return `https://finnhub.io/api/v1/quote?symbol=${stockCode}&token=cp7v0m1r01qi8q89cl60cp7v0m1r01qi8q89cl6g`;\r\n};\r\n// =======================================================================\r\n\r\nconst stock = ref(\"\");\r\n// 股票名稱\r\nconst stockName = ref(\"\");\r\n// 股票價格\r\nconst stockPrice = ref(\"\");\r\n// 是否切換編輯\r\nconst isEdit = ref(false);\r\n// 股票代碼是否未填\r\nconst isStockEmpty = ref(false);\r\n// 股票代碼是否存在\r\nconst stockExsits = ref(true);\r\n// 查詢次數是否達上限\r\nconst isCallLimitReached = ref(false);\r\n// 是否loading\r\nconst isLoading = ref(false);\r\nconst isDisabled = ref(false);\r\n// 錯誤訊息\r\nconst errorMessage = ref(\"\");\r\nconst stockPriceErrorMessage = ref(\"\");\r\n// 輸入框規則\r\nconst rule = {\r\n  stock: { required },\r\n};\r\nconst v$ = useVuelidate(rule, { stock });\r\n\r\n// 查詢股價\r\nasync function searchStock() {\r\n  if (stock.value === \"\") {\r\n    isStockEmpty.value = true;\r\n    errorMessage.value = \"請輸入股票代碼\";\r\n    return;\r\n  }\r\n\r\n  if (v$.value.$invalid) {\r\n    isStockEmpty.value = false;\r\n    errorMessage.value = \"\";\r\n    return;\r\n  }\r\n\r\n  let stockCode = stock.value;\r\n\r\n  try {\r\n    isLoading.value = true;\r\n    isDisabled.value = true;\r\n\r\n    // 呼叫查詢股票api\r\n    // ======================================\r\n    // IEXCloudAPI\r\n    // ======================================\r\n    // #region\r\n    // const IEXResponse = await fetch(IEXCloudAPI(stockCode));\r\n    // const IEXData = await IEXResponse.json();\r\n    // const data = IEXData[0];\r\n\r\n    // if (!data) {\r\n    //   // 處理data為空的情况\r\n    //   stockExsits.value = false;\r\n    //   errorMessage.value = \"查無股票代碼\";\r\n    // } else {\r\n    //   stockExsits.value = true;\r\n    //   stockName.value = data.companyName;\r\n    //   stockPrice.value = data.latestPrice;\r\n    //   currency.value = `${data.currency}`;\r\n    // }\r\n    // #endregion\r\n    // ======================================\r\n    // AlphaVantage API\r\n    // ======================================\r\n    // #region\r\n    // const AlphaVantageNameResponse = await fetch(\r\n    //   AlphaVantageNameAPI(stockCode)\r\n    // );\r\n    // const nameData = await AlphaVantageNameResponse.json();\r\n    // if (nameData.bestMatches && nameData.bestMatches.length > 0) {\r\n    //   stockExsits.value = true;\r\n    //   const matches = nameData.bestMatches;\r\n    //   const name = matches[0][\"2. name\"];\r\n    //   stockName.value = name;\r\n    // } else {\r\n    //   // 處理data為空的情况\r\n    //   stockExsits.value = false;\r\n    //   errorMessage.value = \"查無股票代碼\";\r\n    // }\r\n    // #endregion\r\n    // ======================================\r\n    // Finnhub API\r\n    // ======================================\r\n    // #region\r\n    const profileResponse = await axios.get(finnhubNameAPI(stockCode));\r\n    const companyName = profileResponse.data.name;\r\n    if (companyName) {\r\n      stockExsits.value = true;\r\n      stockName.value = companyName;\r\n    } else {\r\n      // 處理data為空的情况\r\n      stockExsits.value = false;\r\n      errorMessage.value = \"查無股票代碼\";\r\n    }\r\n    // #endregion\r\n\r\n    if (stockExsits.value) {\r\n      // 查詢股價\r\n      const priceResponse = await fetch(finnhubAPI(stockCode));\r\n      const priceData = await priceResponse.json();\r\n      // 如果有Note代表一分鐘查詢超過五次了\r\n      // if (GlobalData[\"Note\"]) {\r\n      //   isCallLimitReached.value = true;\r\n      //   stockPrice.value = \"\";\r\n      //   stockPriceErrorMessage.value = \"每分鐘最多查詢5次，請稍後再試\";\r\n      // }\r\n\r\n      // 取出股票的價格\r\n      if (priceData.c == 0) {\r\n        // 處理data為空的情况\r\n        stockExsits.value = false;\r\n        errorMessage.value = \"查無股票代碼\";\r\n      } else {\r\n        stockExsits.value = true;\r\n        stockName.value = stockCode;\r\n        stockPrice.value = priceData.c;\r\n      }\r\n\r\n      let stockSymbol = stock.value;\r\n      // 修改url\r\n      stockAnalysisUrl.value =\r\n        stockAnalysisInedx + \"stocks/\" + stockSymbol + \"/financials/\";\r\n      // stockrowUrl.value = stockRowIndex + stock.value;\r\n      // incomeUrl.value = stockrowUrl.value + \"/financials/income/annual\";\r\n      // balanceSheetUrl.value = stockrowUrl.value + \"/financials/balance/annual\";\r\n      // mertricsUrl.value = stockrowUrl.value + \"/financials/metrics/annual\";\r\n      // gurufocusUrl.value = `https://www.gurufocus.com/stock/${stock.value}/dividend`;\r\n\r\n      const xnasValuationUrl = `/xnas/${stockSymbol}/valuation`;\r\n      const xnysValuationUrl = `/xnys/${stockSymbol}/valuation`;\r\n      const batsValuationUrl = `/bats/${stockSymbol}/valuation`;\r\n      const pinxValuationUrl = `/pinx/${stockSymbol}/valuation`;\r\n\r\n      try {\r\n        const isXnasValid = await checkURL(xnasValuationUrl);\r\n        if (isXnasValid) {\r\n          morningStarUrl.value = `${morningStarIndex}stocks${xnasValuationUrl}`;\r\n          morningStarFinancialsUrl.value = `${morningStarIndex}stocks/xnas/${stockSymbol}/financials`;\r\n          morningStarDividendUrl.value = `${morningStarIndex}stocks/xnas/${stockSymbol}/dividends`;\r\n          morningStarValuationUrl.value = `${morningStarIndex}stocks/xnas/${stockSymbol}/valuation`;\r\n        } else {\r\n          const isXnysValid = await checkURL(xnysValuationUrl);\r\n          if (isXnysValid) {\r\n            morningStarUrl.value = `${morningStarIndex}stocks${xnysValuationUrl}`;\r\n            morningStarFinancialsUrl.value = `${morningStarIndex}stocks/xnys/${stockSymbol}/financials`;\r\n            morningStarDividendUrl.value = `${morningStarIndex}stocks/xnys/${stockSymbol}/dividends`;\r\n            morningStarValuationUrl.value = `${morningStarIndex}stocks/xnys/${stockSymbol}/valuation`;\r\n          } else {\r\n            const isBatsValid = await checkURL(batsValuationUrl);\r\n            if (isBatsValid) {\r\n              morningStarUrl.value = `${morningStarIndex}stocks${batsValuationUrl}`;\r\n              morningStarFinancialsUrl.value = `${morningStarIndex}stocks/bats/${stockSymbol}/financials`;\r\n              morningStarDividendUrl.value = `${morningStarIndex}stocks/bats/${stockSymbol}/dividends`;\r\n              morningStarValuationUrl.value = `${morningStarIndex}stocks/bats/${stockSymbol}/valuation`;\r\n            } else {\r\n              morningStarUrl.value = `${morningStarIndex}search?query=${stockSymbol}`;\r\n              morningStarDividendUrl.value = morningStarUrl.value;\r\n              morningStarFinancialsUrl.value = morningStarUrl.value;\r\n              morningStarValuationUrl.value = morningStarUrl.value;\r\n            }\r\n            const isPinxValid = await checkURL(pinxValuationUrl);\r\n            if (isPinxValid) {\r\n              morningStarUrl.value = `${morningStarIndex}stocks${pinxValuationUrl}`;\r\n              morningStarFinancialsUrl.value = `${morningStarIndex}stocks/pinx/${stockSymbol}/financials`;\r\n              morningStarDividendUrl.value = `${morningStarIndex}stocks/pinx/${stockSymbol}/dividends`;\r\n              morningStarValuationUrl.value = `${morningStarIndex}stocks/pinx/${stockSymbol}/valuation`;\r\n            } else {\r\n              morningStarUrl.value = `${morningStarIndex}search?query=${stockSymbol}`;\r\n              morningStarDividendUrl.value = morningStarUrl.value;\r\n              morningStarFinancialsUrl.value = morningStarUrl.value;\r\n              morningStarValuationUrl.value = morningStarUrl.value;\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        morningStarUrl.value = `${morningStarIndex}search?query=${stockSymbol}`;\r\n        morningStarFinancialsUrl.value = morningStarUrl.value;\r\n        morningStarDividendUrl.value = morningStarUrl.value;\r\n        morningStarValuationUrl.value = morningStarUrl.value;\r\n        console.error(error);\r\n      }\r\n\r\n      isEdit.value = true;\r\n      stock.value = stock.value.toUpperCase();\r\n      isStockEmpty.value = false;\r\n      errorMessage.value = \"\";\r\n    }\r\n  } catch (error) {\r\n    morningStarUrl.value = `${morningStarIndex}search?query=${stock.value}`;\r\n    morningStarFinancialsUrl.value = morningStarUrl.value;\r\n    morningStarDividendUrl.value = morningStarUrl.value;\r\n    morningStarValuationUrl.value = morningStarUrl.value;\r\n    console.log(error);\r\n  } finally {\r\n    isLoading.value = false;\r\n    isDisabled.value = false;\r\n  }\r\n}\r\n\r\n// 檢查input框\r\nfunction isLetterOrDot(e: any) {\r\n  // 獲取字元\r\n  let char = String.fromCharCode(e.keyCode);\r\n  // 正則表達式，只允許英文字母和點號\r\n  const regex = /^[a-zA-Z.]*$/;\r\n  if (regex.test(char)) {\r\n    return true;\r\n  } else {\r\n    // 如果不匹配，不添加到input框\r\n    e.preventDefault();\r\n  }\r\n}\r\n\r\n// 清除\r\nfunction clear() {\r\n  stock.value = \"\";\r\n  stockName.value = \"\";\r\n  stockPrice.value = \"\";\r\n  isStockEmpty.value = false;\r\n  stockExsits.value = true;\r\n  isCopied.value = false;\r\n}\r\n\r\n// 編輯\r\nconst stockField = ref();\r\nfunction edit() {\r\n  isEdit.value = false;\r\n  isCopied.value = false;\r\n  stockName.value = \"\";\r\n  stockPrice.value = \"\";\r\n  isCallLimitReached.value = false;\r\n  reset();\r\n  nextTick(() => {\r\n    (stockField.value as HTMLInputElement).focus();\r\n    (stockField.value as HTMLInputElement).setSelectionRange(\r\n      0,\r\n      stock.value.length\r\n    );\r\n  });\r\n}\r\n\r\nconst dialogTableVisible = ref(false);\r\nconst errorVisible = ref(false);\r\n// 查詢morningStar網址，xnas/xnys/bats\r\nasync function checkURL(url: string) {\r\n  try {\r\n    // 開發環境使用\r\n    // const response = await fetch(\"/api\" + url, { method: \"HEAD\" });\r\n    const response = await fetch(\r\n      \"https://cors-anywhere.herokuapp.com/https://www.morningstar.com/stocks\" +\r\n        url,\r\n      { method: \"HEAD\" }\r\n    );\r\n    if (response.ok) {\r\n      return true;\r\n    } else {\r\n      if (response.status == 404) {\r\n        console.log(`查無此網站:${url}`);\r\n      } else if (response.status == 403) {\r\n        morningStarUrl.value = `${morningStarIndex}search?query=${stock.value}`;\r\n        morningStarFinancialsUrl.value = morningStarUrl.value;\r\n        morningStarDividendUrl.value = morningStarUrl.value;\r\n        morningStarValuationUrl.value = morningStarUrl.value;\r\n        errorVisible.value = true;\r\n      } else {\r\n        throw new Error(`Fetch failed with status ${response.status}`);\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nfunction generateLink(url: string) {\r\n  console.log(url);\r\n\r\n  if (url.includes(\"Stock\")) {\r\n    window.open(stockAnalysisUrl.value, \"_blank\");\r\n  }\r\n  if (url.includes(\"Financials\")) {\r\n    window.open(morningStarFinancialsUrl.value, \"_blank\");\r\n  }\r\n  if (url.includes(\"Valuation\")) {\r\n    window.open(morningStarValuationUrl.value, \"_blank\");\r\n  }\r\n  if (url.includes(\"Dividends\")) {\r\n    window.open(morningStarDividendUrl.value, \"_blank\");\r\n  }\r\n}\r\n\r\nfunction openUrls() {\r\n  window.open(stockAnalysisUrl.value, \"_blank\");\r\n  window.open(morningStarFinancialsUrl.value, \"_blank\");\r\n  window.open(morningStarValuationUrl.value, \"_blank\");\r\n  window.open(morningStarDividendUrl.value, \"_blank\");\r\n}\r\n\r\nconst totalScore = ref(0);\r\nlet eps1Points = ref(0);\r\nlet eps2Points = ref(0);\r\nlet net1Points = ref(0);\r\nlet net2Points = ref(0);\r\nlet roe1Points = ref(0);\r\nlet roe2Points = ref(0);\r\nlet ic1Points = ref(0);\r\nlet ic2Points = ref(0);\r\nlet dePoints = ref(0);\r\nlet bvpsPoints = ref(0);\r\nlet fcfPoints = ref(0);\r\nlet divdend1Points = ref(0);\r\nlet divdend2Points = ref(0);\r\nlet sharesPoints = ref(0);\r\n\r\nfunction giveScore(index: any, row: any) {\r\n  switch (index) {\r\n    // EPS\r\n    case 0:\r\n      eps1Points.value = parseFloat(row.scoreStandard);\r\n      eps2Points.value = 0;\r\n      row.noScore = false;\r\n      tableData.value[1].noScore = true;\r\n      tableData.value[1].giveScore = false;\r\n      if (tableData.value[0].giveScore == true) {\r\n        eps1Points.value = 0;\r\n      }\r\n      break;\r\n    case 1:\r\n      eps2Points.value = parseFloat(row.scoreStandard);\r\n      eps1Points.value = 0;\r\n      row.noScore = false;\r\n      tableData.value[0].giveScore = false;\r\n      tableData.value[0].noScore = true;\r\n      if (tableData.value[1].giveScore == true) {\r\n        eps2Points.value = 0;\r\n      }\r\n      break;\r\n    // Net Margin\r\n    case 2:\r\n      net1Points.value = parseFloat(row.scoreStandard);\r\n      net2Points.value = 0;\r\n      row.noScore = false;\r\n      tableData.value[3].giveScore = false;\r\n      tableData.value[3].noScore = true;\r\n      if (tableData.value[2].giveScore == true) {\r\n        net1Points.value = 0;\r\n      }\r\n      break;\r\n    case 3:\r\n      net2Points.value = parseFloat(row.scoreStandard);\r\n      net1Points.value = 0;\r\n      row.noScore = false;\r\n      tableData.value[2].giveScore = false;\r\n      tableData.value[2].noScore = true;\r\n      if (tableData.value[3].giveScore == true) {\r\n        net2Points.value = 0;\r\n      }\r\n      break;\r\n    // ROE\r\n    case 4:\r\n      roe1Points.value = parseFloat(row.scoreStandard);\r\n      roe2Points.value = 0;\r\n      row.noScore = false;\r\n      tableData.value[5].noScore = true;\r\n      tableData.value[5].giveScore = false;\r\n      if (tableData.value[4].giveScore == true) {\r\n        roe1Points.value = 0;\r\n      }\r\n      break;\r\n    case 5:\r\n      roe2Points.value = parseFloat(row.scoreStandard);\r\n      roe1Points.value = 0;\r\n      row.noScore = false;\r\n      tableData.value[4].giveScore = false;\r\n      tableData.value[4].noScore = true;\r\n      if (tableData.value[5].giveScore == true) {\r\n        roe2Points.value = 0;\r\n      }\r\n      break;\r\n    // IC\r\n    case 6:\r\n      ic1Points.value = parseFloat(row.scoreStandard);\r\n      ic2Points.value = 0;\r\n      row.noScore = false;\r\n      tableData.value[7].noScore = true;\r\n      tableData.value[7].giveScore = false;\r\n      if (tableData.value[6].giveScore == true) {\r\n        ic1Points.value = 0;\r\n      }\r\n      break;\r\n    case 7:\r\n      ic2Points.value = parseFloat(row.scoreStandard);\r\n      ic1Points.value = 0;\r\n      row.noScore = false;\r\n      tableData.value[6].giveScore = false;\r\n      tableData.value[6].noScore = true;\r\n      if (tableData.value[7].giveScore == true) {\r\n        ic2Points.value = 0;\r\n      }\r\n      break;\r\n    // D/E\r\n    case 8:\r\n      dePoints.value = parseFloat(row.scoreStandard);\r\n      row.noScore = false;\r\n      if (tableData.value[8].giveScore == true) {\r\n        dePoints.value = 0;\r\n      }\r\n      break;\r\n    // BVPS\r\n    case 9:\r\n      bvpsPoints.value = parseFloat(row.scoreStandard);\r\n      row.noScore = false;\r\n      if (tableData.value[9].giveScore == true) {\r\n        bvpsPoints.value = 0;\r\n      }\r\n      break;\r\n    // FCF\r\n    case 10:\r\n      fcfPoints.value = parseFloat(row.scoreStandard);\r\n      row.noScore = false;\r\n      if (tableData.value[10].giveScore == true) {\r\n        fcfPoints.value = 0;\r\n      }\r\n      break;\r\n    // Dividend\r\n    case 11:\r\n      divdend1Points.value = parseFloat(row.scoreStandard);\r\n      divdend2Points.value = 0;\r\n      row.noScore = false;\r\n      tableData.value[12].noScore = true;\r\n      tableData.value[12].giveScore = false;\r\n      if (tableData.value[11].giveScore == true) {\r\n        divdend1Points.value = 0;\r\n      }\r\n      break;\r\n    case 12:\r\n      divdend2Points.value = parseFloat(row.scoreStandard);\r\n      divdend1Points.value = 0;\r\n      row.noScore = false;\r\n      tableData.value[11].giveScore = false;\r\n      tableData.value[11].noScore = true;\r\n      if (tableData.value[12].giveScore == true) {\r\n        divdend2Points.value = 0;\r\n      }\r\n      break;\r\n    case 13:\r\n      sharesPoints.value = parseFloat(row.scoreStandard);\r\n      row.noScore = false;\r\n      if (tableData.value[13].giveScore == true) {\r\n        sharesPoints.value = 0;\r\n      }\r\n      break;\r\n  }\r\n}\r\nfunction noScore(index: any, row: any) {\r\n  switch (index) {\r\n    // EPS\r\n    case 0:\r\n      row.giveScore = false;\r\n      eps1Points.value = 0;\r\n      break;\r\n    case 1:\r\n      row.giveScore = false;\r\n      eps2Points.value = 0;\r\n      break;\r\n    // Net Margin\r\n    case 2:\r\n      net1Points.value = 0;\r\n      row.giveScore = false;\r\n      break;\r\n    case 3:\r\n      row.giveScore = false;\r\n      net2Points.value = 0;\r\n      break;\r\n    // ROE\r\n    case 4:\r\n      row.giveScore = false;\r\n      roe1Points.value = 0;\r\n      break;\r\n    case 5:\r\n      row.giveScore = false;\r\n      roe2Points.value = 0;\r\n      break;\r\n    // IC\r\n    case 6:\r\n      ic1Points.value = 0;\r\n      row.giveScore = false;\r\n      break;\r\n    case 7:\r\n      ic2Points.value = 0;\r\n      row.giveScore = false;\r\n      break;\r\n    // D/E\r\n    case 8:\r\n      dePoints.value = 0;\r\n      row.giveScore = false;\r\n      break;\r\n    // BVPS\r\n    case 9:\r\n      bvpsPoints.value = 0;\r\n      row.giveScore = false;\r\n      break;\r\n    // FCF\r\n    case 10:\r\n      fcfPoints.value = 0;\r\n      row.giveScore = false;\r\n      break;\r\n    // Dividend\r\n    case 11:\r\n      divdend1Points.value = 0;\r\n      row.giveScore = false;\r\n      break;\r\n    case 12:\r\n      divdend2Points.value = 0;\r\n      row.giveScore = false;\r\n      break;\r\n    case 13:\r\n      sharesPoints.value = 0;\r\n      row.giveScore = false;\r\n      break;\r\n  }\r\n}\r\nconst tableData = ref([\r\n  // EPS (Diluted) 每股盈餘\r\n  {\r\n    indicator: \"EPS (Diluted) 每股盈餘\",\r\n    standard: \"10年穩定成長\",\r\n    scoreStandard: \"1\",\r\n    score: \"\",\r\n    url: \"Morningstar Financials （5年）\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  {\r\n    indicator: \"\",\r\n    standard: \"最少5年內有 > 0\",\r\n    scoreStandard: \"0.5\",\r\n    score: \"\",\r\n    url: \"Stock Analysis Financials（10年）\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  // Net Margin(%)淨利率\r\n  {\r\n    indicator: \"Net Margin(%)淨利率\",\r\n    standard: \"10年 Net Margin > 10%\",\r\n    scoreStandard: \"1\",\r\n    score: \"\",\r\n    url: \"Morningstar Valuation - Operating and Efficiency\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  {\r\n    indicator: \"\",\r\n    standard: \"10年穩定不衰退\",\r\n    scoreStandard: \"0.5\",\r\n    score: \"\",\r\n    url: \"\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  // ROE(％) 股東權益率\r\n  {\r\n    indicator: \"ROE(％) 股東權益率\",\r\n    standard: \"10年: 15% < ROE < 40%\",\r\n    scoreStandard: \"1\",\r\n    score: \"\",\r\n    url: \"Morningstar Valuation - Operating and Efficiency\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  {\r\n    indicator: \"\",\r\n    standard: \"10年 ROE < 15% 且穩定上升\",\r\n    scoreStandard: \"0.5\",\r\n    score: \"\",\r\n    url: \"\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  // IC 利息保障倍數\r\n  {\r\n    indicator: \"IC 利息保障倍數\",\r\n    standard: \"IC > 10 或 “-”\",\r\n    scoreStandard: \"1\",\r\n    score: \"\",\r\n    url: \"Morningstar Valuation - Operating and Efficiency\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  {\r\n    indicator: \"\",\r\n    standard: \"IC > 5\",\r\n    scoreStandard: \"0.5\",\r\n    score: \"\",\r\n    url: \"\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  // Debt / Equity 負債權益比\r\n  {\r\n    indicator: \"Debt / Equity 負債權益比\",\r\n    standard: \"D/E < 0.5\",\r\n    scoreStandard: \"1\",\r\n    score: \"\",\r\n    url: \"Morningstar Valuation - Financial Health\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  // Book Value Per Share 每股淨值\r\n  {\r\n    indicator: \"Book Value Per Share 每股淨值\",\r\n    standard: \"10年穩定成長\",\r\n    scoreStandard: \"1\",\r\n    score: \"\",\r\n    url: \"Morningstar Valuation - Financial Health\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  // Free Cash Flow 自由現金流\r\n  {\r\n    indicator: \"Free Cash Flow 自由現金流\",\r\n    standard: \"10年皆為正數\",\r\n    scoreStandard: \"1\",\r\n    score: \"\",\r\n    url: \"Morningstar Valuation - Cash Flow\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  // Dividend 股息\r\n  {\r\n    indicator: \"Dividend 股息\",\r\n    standard: \"10年每年持續穩定發股息\",\r\n    scoreStandard: \"0.5\",\r\n    score: \"\",\r\n    url: \"Morningstar Dividends\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  {\r\n    indicator: \"\",\r\n    standard: \"10年股息每年越發越多\",\r\n    scoreStandard: \"1\",\r\n    score: \"\",\r\n    url: \"\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n  // Shares (Common) 流通股數\r\n  {\r\n    indicator: \"Shares (Common) 流通股數\",\r\n    standard: \"流通股數10年穩定減少\",\r\n    scoreStandard: \"1\",\r\n    score: \"\",\r\n    url: \"Stock Analysis - Financials - income\",\r\n    giveScore: false,\r\n    noScore: false,\r\n  },\r\n]);\r\n\r\nconst indicators = [\r\n  { name: \"EPS (Diluted) 每股盈餘\", rowspan: 2 },\r\n  { name: \"Net Margin(%)淨利率\", rowspan: 2 },\r\n  { name: \"ROE(％) 股東權益率\", rowspan: 2 },\r\n  { name: \"IC 利息保障倍數\", rowspan: 2 },\r\n  { name: \"Debt / Equity 負債權益比\", rowspan: 1 },\r\n  { name: \"Book Value Per Share 每股淨值\", rowspan: 1 },\r\n  { name: \"Free Cash Flow 自由現金流\", rowspan: 1 },\r\n  { name: \"Dividend 股息\", rowspan: 2 },\r\n  { name: \"Shares (Common) 流通股數\", rowspan: 1 },\r\n];\r\n\r\n// colspan 方法\r\nconst objectSpanMethod = ({\r\n  row,\r\n  column,\r\n  rowIndex,\r\n  columnIndex,\r\n}: SpanMethodProps) => {\r\n  switch (columnIndex) {\r\n    case 0:\r\n      for (const indicator of indicators) {\r\n        if (row.indicator === indicator.name) {\r\n          return {\r\n            rowspan: indicator.rowspan,\r\n            colspan: 1,\r\n          };\r\n        }\r\n      }\r\n      return {\r\n        rowspan: 0,\r\n        colspan: 0,\r\n      };\r\n    case 4:\r\n      const indicatorName = row.indicator.toString();\r\n      switch (indicatorName) {\r\n        case \"Net Margin(%)淨利率\":\r\n        case \"ROE(％) 股東權益率\":\r\n        case \"IC 利息保障倍數\":\r\n          return {\r\n            rowspan: 2,\r\n            colspan: 1,\r\n          };\r\n        case \"Dividend 股息\":\r\n          return {\r\n            rowspan: 2,\r\n            colspan: 1,\r\n          };\r\n        default:\r\n          return {\r\n            rowspan: 1,\r\n            colspan: 1,\r\n          };\r\n      }\r\n    default:\r\n      return {\r\n        rowspan: 1,\r\n        colspan: 1,\r\n      };\r\n  }\r\n};\r\n\r\n// =============================================================\r\n// watch\r\n// =============================================================\r\nwatch(\r\n  tableData,\r\n  () => {\r\n    calculateTotalScore();\r\n  },\r\n  { deep: true }\r\n);\r\n\r\nfunction calculateTotalScore() {\r\n  totalScore.value =\r\n    divdend1Points.value +\r\n    divdend2Points.value +\r\n    eps1Points.value +\r\n    eps2Points.value +\r\n    sharesPoints.value +\r\n    dePoints.value +\r\n    roe1Points.value +\r\n    roe2Points.value +\r\n    bvpsPoints.value +\r\n    fcfPoints.value +\r\n    net1Points.value +\r\n    net2Points.value +\r\n    ic1Points.value +\r\n    ic2Points.value;\r\n  console.log(\"totalScore: \" + totalScore.value);\r\n  console.log(\"eps1Points: \" + eps1Points.value);\r\n}\r\n// =================================================================\r\n// 複製\r\n// =================================================================\r\n// 初始化剪貼板功能\r\nconst { toClipboard } = useClipboard();\r\n\r\nconst isCopied = ref(false);\r\nasync function touchCopy() {\r\n  try {\r\n    await toClipboard(stockPrice.value);\r\n    isCopied.value = true;\r\n    setTimeout(() => {\r\n      isCopied.value = false;\r\n    }, 2000);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nlet isTotalCopied = ref(false);\r\nasync function touchCopyTotal() {\r\n  try {\r\n    await toClipboard(JSON.stringify(totalScore.value));\r\n    isTotalCopied.value = true;\r\n    setTimeout(() => {\r\n      isTotalCopied.value = false;\r\n    }, 2000);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\n// reset\r\nfunction reset() {\r\n  tableData.value.forEach((row) => {\r\n    row.giveScore = false;\r\n    row.noScore = false;\r\n  });\r\n\r\n  divdend1Points.value = 0;\r\n  divdend2Points.value = 0;\r\n  eps1Points.value = 0;\r\n  eps2Points.value = 0;\r\n  sharesPoints.value = 0;\r\n  dePoints.value = 0;\r\n  roe1Points.value = 0;\r\n  roe2Points.value = 0;\r\n  bvpsPoints.value = 0;\r\n  fcfPoints.value = 0;\r\n  net1Points.value = 0;\r\n  net2Points.value = 0;\r\n  ic1Points.value = 0;\r\n  ic2Points.value = 0;\r\n\r\n  // isNoDivdend.value = false;\r\n}\r\n\r\n// 匯出csv\r\nfunction exportToCSV() {\r\n  const csvData = tableData.value.map((row) => {\r\n    return {\r\n      評分數據: row.indicator,\r\n      評分標準: row.standard,\r\n      給分標準: row.scoreStandard,\r\n      給分: row.giveScore ? \"✓\" : row.noScore ? \"✗\" : \"\",\r\n    };\r\n  });\r\n  csvData.push({\r\n    評分數據: \"\",\r\n    評分標準: \"總分\",\r\n    給分標準: totalScore.value.toString(),\r\n    給分: \"\",\r\n  });\r\n  const hasNullScore = csvData.some((row) => {\r\n    return row.給分 === null;\r\n  });\r\n\r\n  if (!stock.value) {\r\n    alert(\"請輸入股票代碼\");\r\n    return;\r\n  }\r\n  if (hasNullScore) {\r\n    alert(\"請在匯出CSV之前勾選所有評分\");\r\n    return;\r\n  }\r\n  const csv = Papa.unparse(csvData, {\r\n    encoding: \"utf-8\",\r\n    quotes: true,\r\n    quoteChar: '\"',\r\n    escapeChar: '\"',\r\n    delimiter: \",\",\r\n    header: true,\r\n    newline: \"\\r\\n\",\r\n    skipEmptyLines: true,\r\n  });\r\n  const blob = new Blob([new Uint8Array([0xef, 0xbb, 0xbf]), csv], {\r\n    type: \"text/csv;charset=utf-8;\",\r\n  });\r\n  const url = window.URL.createObjectURL(blob);\r\n  const link = document.createElement(\"a\");\r\n  link.href = url;\r\n  // Get the current date\r\n  const currentDate = new Date();\r\n  const year = currentDate.getFullYear();\r\n  const month = String(currentDate.getMonth() + 1).padStart(2, \"0\");\r\n  const day = String(currentDate.getDate()).padStart(2, \"0\");\r\n  // Construct the filename with the current date\r\n  const filename = `${year}${month}${day}_${stock.value}_財報分析.csv`;\r\n  link.download = filename;\r\n  link.click();\r\n  window.URL.revokeObjectURL(url);\r\n}\r\n// const Row = ({ rowData, rowIndex, cells, columns }) => {\r\n//   const indicatorName = rowData.indicator;\r\n//   const indicator = indicators.find((item) => {\r\n//     return item.name === indicatorName;\r\n//   });\r\n\r\n//   if (indicator) {\r\n//     const { rowspan } = indicator;\r\n//     const cell = cells[0];\r\n//     const style = {\r\n//       ...cell.props.style,\r\n//       height: `${rowspan * 50 - 1}px`,\r\n//       alignSelf: \"flex-start\",\r\n//       zIndex: 1,\r\n//     };\r\n\r\n//     cells[0] = cloneVNode(cell, { style });\r\n//   }\r\n\r\n//   return cells;\r\n// };\r\n\r\n// const Row = ({ rowData, rowIndex, cells, columns }) => {\r\n//   const indicatorName = rowData.indicator;\r\n//   const indicator = indicators.find((item) => {\r\n//     return item.name === indicatorName;\r\n//   });\r\n\r\n//   if (indicator) {\r\n//     const { rowspan } = indicator;\r\n//     const cell = cells[0];\r\n//     const style = {\r\n//       ...cell.props.style,\r\n//       height: `${rowspan * 50 - 1}px`,\r\n//       alignSelf: \"flex-start\",\r\n//       zIndex: 1,\r\n//     };\r\n\r\n//     cells[0] = cloneVNode(cell, { style });\r\n//   }\r\n\r\n//   // 根據特定欄位來設置樣式\r\n//   cells.forEach((cell, index) => {\r\n//     const dataKey = columns[index].dataKey;\r\n//     if (dataKey !== \"indicator\") {\r\n//       let style = {\r\n//         ...cell.props.style,\r\n//         backgroundColor: dataKey === \"score\" ? \"white\" : \"#E8EEFB\",\r\n//       };\r\n//       cells[index] = cloneVNode(cell, { style });\r\n//     }\r\n//   });\r\n\r\n//   return cells;\r\n// };\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_link = _resolveComponent(\"el-link\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_el_col = _resolveComponent(\"el-col\")!\n  const _component_el_row = _resolveComponent(\"el-row\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_el_dialog, {\n      modelValue: dialogTableVisible.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((dialogTableVisible).value = $event)),\n      title: \"解決方法\",\n      width: \"1000\"\n    }, {\n      default: _withCtx(() => [\n        _hoisted_1,\n        _hoisted_2,\n        _hoisted_3\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"]),\n    _createVNode(_component_el_dialog, {\n      modelValue: errorVisible.value,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((errorVisible).value = $event)),\n      title: \"cors錯誤\",\n      width: \"1000\"\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\" MorningStar 無法導向 \" + _toDisplayString(stock.value) + \" 股票代碼的頁面，若要成功導向 \" + _toDisplayString(stock.value) + \" 股票代碼頁面 請前往這個網站 \", 1),\n        _hoisted_4,\n        _createTextVNode(\"， 並點擊 Request temporary access to the demo server，點選完之後會跳出 You currently have temporary access to the demo server.， 現在查詢 MorningStar 就可以導向 \" + _toDisplayString(stock.value) + \" 股票代碼的頁面了 \", 1)\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"]),\n    (!isEdit.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createElementVNode(\"div\", _hoisted_7, [\n              _createElementVNode(\"div\", _hoisted_8, [\n                _withDirectives(_createElementVNode(\"input\", {\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((stock).value = $event)),\n                  onKeypress: _cache[3] || (_cache[3] = ($event: any) => (isLetterOrDot($event))),\n                  maxlength: \"5\",\n                  class: _normalizeClass([\"form-control\", { 'is-invalid': isStockEmpty.value || !stockExsits.value }]),\n                  placeholder: \"請輸入股票代碼，只能輸入英文字母和.\",\n                  disabled: isDisabled.value,\n                  onKeyup: _cache[4] || (_cache[4] = _withKeys(($event: any) => (searchStock()), [\"enter\"])),\n                  ref_key: \"stockField\",\n                  ref: stockField\n                }, null, 42, _hoisted_9), [\n                  [_vModelText, stock.value]\n                ]),\n                (isStockEmpty.value || !stockExsits.value)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _toDisplayString(errorMessage.value), 1))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _createElementVNode(\"div\", _hoisted_11, [\n                _createElementVNode(\"button\", {\n                  class: \"btn btn-primary\",\n                  onClick: _cache[5] || (_cache[5] = ($event: any) => (searchStock())),\n                  disabled: isDisabled.value\n                }, [\n                  (isLoading.value)\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_13))\n                    : _createCommentVNode(\"\", true),\n                  (!isLoading.value)\n                    ? (_openBlock(), _createBlock(_component_font_awesome_icon, {\n                        key: 1,\n                        icon: \"fa-magnifying-glass\"\n                      }))\n                    : _createCommentVNode(\"\", true),\n                  _hoisted_14\n                ], 8, _hoisted_12),\n                _createElementVNode(\"button\", {\n                  class: \"btn btn-secondary\",\n                  onClick: clear,\n                  disabled: isDisabled.value\n                }, [\n                  _createVNode(_component_font_awesome_icon, { icon: \"fa-eraser\" }),\n                  _hoisted_16\n                ], 8, _hoisted_15)\n              ])\n            ])\n          ])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n          _createElementVNode(\"div\", _hoisted_18, [\n            _createElementVNode(\"div\", _hoisted_19, [\n              _createElementVNode(\"div\", _hoisted_20, [\n                _hoisted_21,\n                _createElementVNode(\"input\", {\n                  id: \"stockLabel\",\n                  class: \"form-control\",\n                  value: stock.value,\n                  disabled: \"\"\n                }, null, 8, _hoisted_22)\n              ]),\n              _createElementVNode(\"div\", _hoisted_23, [\n                _hoisted_24,\n                _createElementVNode(\"input\", {\n                  id: \"nameLabel\",\n                  class: \"form-control\",\n                  value: stockName.value,\n                  disabled: \"\"\n                }, null, 8, _hoisted_25)\n              ]),\n              _createElementVNode(\"div\", _hoisted_26, [\n                _hoisted_27,\n                _createElementVNode(\"div\", _hoisted_28, [\n                  _createElementVNode(\"input\", {\n                    id: \"priceLabel\",\n                    type: \"number\",\n                    class: _normalizeClass([\"form-control\", { 'is-invalid': isCallLimitReached.value }]),\n                    value: stockPrice.value,\n                    disabled: !isCallLimitReached.value\n                  }, null, 10, _hoisted_29),\n                  (isCallLimitReached.value)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_30, _toDisplayString(stockPriceErrorMessage.value), 1))\n                    : (_openBlock(), _createElementBlock(\"div\", _hoisted_31, [\n                        _createElementVNode(\"button\", {\n                          class: _normalizeClass([\"btn\", {\r\n                  'btn-outline-secondary': !isCopied.value,\r\n                  'btn-outline-success': isCopied.value,\r\n                }]),\n                          type: \"button\",\n                          onClick: _cache[6] || (_cache[6] = ($event: any) => (touchCopy()))\n                        }, [\n                          (isCopied.value)\n                            ? (_openBlock(), _createBlock(_component_font_awesome_icon, {\n                                key: 0,\n                                icon: \"fa-paste\"\n                              }))\n                            : (_openBlock(), _createBlock(_component_font_awesome_icon, {\n                                key: 1,\n                                icon: \"fa-clipboard\"\n                              })),\n                          _createTextVNode(\" \" + _toDisplayString(isCopied.value ? \"已複製\" : \"複製股價\"), 1)\n                        ], 2)\n                      ]))\n                ])\n              ]),\n              _createElementVNode(\"div\", _hoisted_32, [\n                _createElementVNode(\"button\", {\n                  class: \"btn btn-primary\",\n                  onClick: edit\n                }, [\n                  _createVNode(_component_font_awesome_icon, { icon: \"fa-edit\" }),\n                  _hoisted_33\n                ]),\n                _createElementVNode(\"button\", {\n                  type: \"button\",\n                  class: \"btn btn-success\",\n                  onClick: _cache[7] || (_cache[7] = ($event: any) => (exportToCSV()))\n                }, [\n                  _createVNode(_component_font_awesome_icon, { icon: \"fa-file-csv\" }),\n                  _hoisted_34\n                ])\n              ])\n            ])\n          ])\n        ])),\n    _createElementVNode(\"table\", _hoisted_35, [\n      _createElementVNode(\"thead\", null, [\n        _createElementVNode(\"tr\", null, [\n          _createElementVNode(\"th\", null, [\n            _createVNode(_component_el_button, {\n              plain: \"\",\n              onClick: _cache[8] || (_cache[8] = ($event: any) => (dialogTableVisible.value = true)),\n              size: \"large\",\n              type: \"warning\",\n              icon: _unref(WarnTriangleFilled)\n            }, {\n              default: _withCtx(() => [\n                _hoisted_36\n              ]),\n              _: 1\n            }, 8, [\"icon\"])\n          ]),\n          _hoisted_37,\n          _createElementVNode(\"th\", null, [\n            _createElementVNode(\"button\", {\n              class: \"btn btn-outline-success btn-sm\",\n              onClick: _cache[9] || (_cache[9] = ($event: any) => (openUrls())),\n              disabled: isDisabled.value\n            }, [\n              (isLoading.value)\n                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_39))\n                : _createCommentVNode(\"\", true),\n              _createVNode(_component_font_awesome_icon, { icon: \"fa-window-restore\" }),\n              _hoisted_40\n            ], 8, _hoisted_38)\n          ])\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_41, [\n      _createVNode(_component_el_table, {\n        data: tableData.value,\n        style: {\"width\":\"100%\",\"margin-top\":\"20px\"},\n        \"span-method\": objectSpanMethod,\n        border: \"\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_table_column, {\n            prop: \"indicator\",\n            label: \"評分指標\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"standard\",\n            label: \"評分標準\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"scoreStandard\",\n            label: \"給分標準\",\n            width: \"90px\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"score\",\n            label: \"給分\"\n          }, {\n            default: _withCtx((scope) => [\n              _createVNode(_unref(ElCheckbox), {\n                modelValue: scope.row.giveScore,\n                \"onUpdate:modelValue\": ($event: any) => ((scope.row.giveScore) = $event),\n                onClick: ($event: any) => (giveScore(scope.$index, scope.row))\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_42\n                ]),\n                _: 2\n              }, 1032, [\"modelValue\", \"onUpdate:modelValue\", \"onClick\"]),\n              _createVNode(_unref(ElCheckbox), {\n                modelValue: scope.row.noScore,\n                \"onUpdate:modelValue\": ($event: any) => ((scope.row.noScore) = $event),\n                onClick: ($event: any) => (noScore(scope.$index, scope.row))\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_43\n                ]),\n                _: 2\n              }, 1032, [\"modelValue\", \"onUpdate:modelValue\", \"onClick\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"url\",\n            label: \"評分網址\"\n          }, {\n            default: _withCtx((scope) => [\n              (isLoading.value)\n                ? (_openBlock(), _createBlock(_component_el_link, {\n                    key: 0,\n                    disabled: \"\",\n                    underline: false,\n                    modelValue: scope.row.noScore,\n                    \"onUpdate:modelValue\": ($event: any) => ((scope.row.noScore) = $event)\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(scope.row.url), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"modelValue\", \"onUpdate:modelValue\"]))\n                : (_openBlock(), _createBlock(_component_el_link, {\n                    key: 1,\n                    onClick: ($event: any) => (generateLink(scope.row.url)),\n                    underline: false,\n                    modelValue: scope.row.noScore,\n                    \"onUpdate:modelValue\": ($event: any) => ((scope.row.noScore) = $event),\n                    target: \"_blank\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(scope.row.url), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"onClick\", \"modelValue\", \"onUpdate:modelValue\"]))\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"data\"]),\n      _createElementVNode(\"div\", _hoisted_44, [\n        _createVNode(_component_el_row, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_col, {\n              span: 24,\n              style: {\"background-color\":\"#ffd966\",\"padding\":\"10px\"}\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_45, [\n                  _hoisted_46,\n                  _createElementVNode(\"span\", null, _toDisplayString(totalScore.value), 1)\n                ])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_col, {\n              span: 24,\n              style: {\"margin-top\":\"10px\",\"display\":\"flex\",\"flex-direction\":\"row\",\"justify-content\":\"flex-end\"}\n            }, {\n              default: _withCtx(() => [\n                (!_unref(isTotalCopied))\n                  ? (_openBlock(), _createBlock(_component_el_button, {\n                      key: 0,\n                      icon: _unref(CopyDocument),\n                      type: \"Default\",\n                      onClick: _cache[10] || (_cache[10] = ($event: any) => (touchCopyTotal()))\n                    }, {\n                      default: _withCtx(() => [\n                        _hoisted_47\n                      ]),\n                      _: 1\n                    }, 8, [\"icon\"]))\n                  : _createCommentVNode(\"\", true),\n                _createVNode(_component_el_button, {\n                  icon: _unref(CloseBold),\n                  type: \"info\",\n                  onClick: _cache[11] || (_cache[11] = ($event: any) => (reset()))\n                }, {\n                  default: _withCtx(() => [\n                    _hoisted_48\n                  ]),\n                  _: 1\n                }, 8, [\"icon\"]),\n                _createVNode(_component_el_button, {\n                  icon: _unref(Download),\n                  type: \"success\",\n                  onClick: _cache[12] || (_cache[12] = ($event: any) => (exportToCSV()))\n                }, {\n                  default: _withCtx(() => [\n                    _hoisted_49\n                  ]),\n                  _: 1\n                }, 8, [\"icon\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ])\n    ])\n  ], 64))\n}\n}\n\n})","import script from \"./FinancialReport.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FinancialReport.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FinancialReport.vue?vue&type=style&index=0&id=12758e89&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Lin\\\\Documents\\\\Studio\\\\project\\\\VIP\\\\financial-report-analysis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-12758e89\"]])\n\nexport default __exports__","<template>\n  <div class=\"container\" v-if=\"!isEdit\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-md-4 col-sm-10\">\n        <div class=\"input-group has-validation\">\n          <input v-model=\"stock\" @keypress=\"isLetterOrDot($event)\" maxlength=\"5\" class=\"form-control\"\n            placeholder=\"請輸入股票代碼，只能輸入英文字母和.\" @blur=\"stockUpperCase()\" :class=\"{ 'is-invalid': isStockEmpty }\" />\n          <div v-if=\"isStockEmpty\" class=\"invalid-feedback\">\n            請輸入股票代碼\n          </div>\n        </div>\n        <div class=\"input-group-append button-group\">\n          <button type=\"button\" class=\"btn btn-success\" @click=\"exportToCSV()\">\n            <font-awesome-icon icon=\"fa-file-csv\" />\n            匯出csv\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <table class=\"table\">\n    <thead class=\"table-dark\">\n      <tr>\n        <th>護城河優勢</th>\n      </tr>\n    </thead>\n    <tbody class=\"m_body\">\n      <tr class=\"title\">\n        <th>護城河項目</th>\n        <th>競爭優勢</th>\n        <th>可獲得分數</th>\n        <th>給分</th>\n      </tr>\n      <tr>\n        <th rowspan=\"3\">品牌</th>\n        <td>你會因為這個品牌而購買嗎？</td>\n        <td rowspan=\"3\">1</td>\n        <td rowspan=\"3\">\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.brand_1\" @click=\"brandGivePoint()\" type=\"checkbox\"\n              id=\"brand_1\" />\n            <label class=\"form-check-label\" for=\"brand_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.brand_2\" type=\"checkbox\" id=\"brand_2\"\n              @click=\"brandNoGivePoint()\" />\n            <label class=\"form-check-label\" for=\"brand_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>品牌會影響你的消費決策嗎？</td>\n      </tr>\n      <tr>\n        <td>你願意因為這個品牌多付一些錢嗎？</td>\n      </tr>\n      <tr>\n        <th rowspan=\"2\">專利、特許執照</th>\n        <td>專利：企業取得法律的保護，競爭者無法製造任何相似的產品</td>\n        <td rowspan=\"2\">1</td>\n        <td rowspan=\"2\">\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.patent_1\" @click=\"patentGivePoint()\" type=\"checkbox\"\n              id=\"patent_1\" />\n            <label class=\"form-check-label\" for=\"patent_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.patent_2\" type=\"checkbox\" id=\"patent_2\"\n              @click=\"patentNoGivePoint()\" />\n            <label class=\"form-check-label\" for=\"patent_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>特許：擁有不易申請通過的政府許可經營執照</td>\n      </tr>\n      <tr>\n        <th rowspan=\"4\">成本優勢</th>\n        <td>生產成本：擁有別人沒有的低生產成本或掌握通路</td>\n        <td rowspan=\"4\">1</td>\n        <td rowspan=\"4\">\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.costAdvantage_1\" @click=\"costAdvantageGivePoint()\"\n              type=\"checkbox\" id=\"costAdvantage_1\" />\n            <label class=\"form-check-label\" for=\"costAdvantage_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.costAdvantage_2\" type=\"checkbox\" id=\"costAdvantage_2\"\n              @click=\"costAdvantageNoGivePoint()\" />\n            <label class=\"form-check-label\" for=\"costAdvantage_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>運輸成本：有好的地理位置，降低運輸成本</td>\n      </tr>\n      <tr>\n        <td>特有資產：擁有世界級的天然資源</td>\n      </tr>\n      <tr>\n        <td>經濟規模：規模是同業的5倍以上</td>\n      </tr>\n      <tr>\n        <th scope=\"row\">高轉換成本</th>\n        <td>轉換過程會產生大量風險或機會成本</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.conversionCost_1\" @click=\"conversionCostGivePoint()\"\n              type=\"checkbox\" id=\"conversionCost_1\" />\n            <label class=\"form-check-label\" for=\"conversionCost_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.conversionCost_2\" type=\"checkbox\" id=\"conversionCost_2\"\n              @click=\"conversionCostNoGivePoint()\" />\n            <label class=\"form-check-label\" for=\"conversionCost_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th scope=\"row\">網絡效應</th>\n        <td>產品價值隨著使用的人數上升而提升</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.networkEffect_1\" @click=\"networkEffectGivePoint()\"\n              type=\"checkbox\" id=\"networkEffect_1\" />\n            <label class=\"form-check-label\" for=\"networkEffect_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.networkEffect_2\" type=\"checkbox\" id=\"networkEffect_2\"\n              @click=\"networkEffectNoGivePoint()\" />\n            <label class=\"form-check-label\" for=\"networkEffect_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n\n      <tr>\n        <th rowspan=\"2\">利基市場</th>\n        <td>在小市場有顯著規模</td>\n        <td rowspan=\"2\">1</td>\n        <td rowspan=\"2\">\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.nicheMarket_1\" @click=\"nicheMarketGivePoint()\" type=\"checkbox\"\n              id=\"nicheMarket_1\" />\n            <label class=\"form-check-label\" for=\"nicheMarket_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.nicheMarket_2\" type=\"checkbox\" id=\"nicheMarket_2\"\n              @click=\"nicheMarketNoGivePoint()\" />\n            <label class=\"form-check-label\" for=\"nicheMarket_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>地理壟斷</td>\n      </tr>\n      <tr>\n        <th scope=\"row\">信心</th>\n        <td>認為還可以存在超過10年</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.confidence_1\" @click=\"confidenceGivePoint()\" type=\"checkbox\"\n              id=\"confidence_1\" />\n            <label class=\"form-check-label\" for=\"confidence_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.confidence_2\" type=\"checkbox\" id=\"confidence_2\"\n              @click=\"confidenceNoGivePoint()\" />\n            <label class=\"form-check-label\" for=\"confidence_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td></td>\n        <td>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"reset()\">\n            <font-awesome-icon icon=\"fa-rotate-left\" />\n            Reset\n          </button>\n        </td>\n        <td style=\"background-color: #f6b3bb\">總分</td>\n        <td style=\"background-color: #f6b3bb\">{{ total }}</td>\n        <td></td>\n      </tr>\n      <tr>\n        <td></td>\n        <td />\n        <td />\n        <td>\n          <button type=\"button\" class=\"btn btn-success\" @click=\"exportToCSV()\">\n            <font-awesome-icon icon=\"fa-file-csv\" />\n            匯出csv\n          </button>\n        </td>\n        <td></td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n<script setup>\nimport { reactive, ref } from \"@vue/reactivity\";\nimport { watch } from \"@vue/runtime-core\";\nimport Papa from \"papaparse\";\n\n// 股票代碼\nconst stock = ref(\"\");\n// 股票代碼是否未填\nconst isStockEmpty = ref(false);\n\nlet form = reactive({\n  // 品牌\n  brand_1: \"\",\n  brand_2: \"\",\n  // 專利\n  patent_1: \"\",\n  patent_2: \"\",\n  // 成本優勢\n  costAdvantage_1: \"\",\n  costAdvantage_2: \"\",\n  // 轉換成本\n  conversionCost_1: \"\",\n  conversionCost_2: \"\",\n  // 網路效應\n  networkEffect_1: \"\",\n  networkEffect_2: \"\",\n  // 利基市場\n  nicheMarket_1: \"\",\n  nicheMarket_2: \"\",\n  // 信心\n  confidence_1: \"\",\n  confidence_2: \"\",\n});\n\nlet brandPoints = ref(0);\nlet patentPoints = ref(0);\nlet costAdvantagePoints = ref(0);\nlet conversionCostPonits = ref(0);\nlet networkEffectPoints = ref(0);\nlet nicheMarketPoints = ref(0);\nlet confidencePoints = ref(0);\nlet total = ref(0);\n\n// 品牌\nfunction brandGivePoint() {\n  form.brand_2 = false;\n  brandPoints.value = 1;\n  if (form.brand_1 == true) {\n    brandPoints.value = 0;\n  }\n}\n\nfunction brandNoGivePoint() {\n  form.brand_1 = false;\n  brandPoints.value = 0;\n}\n\n// 專利\nfunction patentGivePoint() {\n  form.patent_2 = false;\n  patentPoints.value = 1;\n  if (form.patent_1 == true) {\n    patentPoints.value = 0;\n  }\n}\n\nfunction patentNoGivePoint() {\n  form.patent_1 = false;\n  patentPoints.value = 0;\n}\n\n// 成本優勢\nfunction costAdvantageGivePoint() {\n  form.costAdvantage_2 = false;\n  costAdvantagePoints.value = 1;\n  if (form.costAdvantage_1 == true) {\n    costAdvantagePoints.value = 0;\n  }\n}\n\nfunction costAdvantageNoGivePoint() {\n  form.costAdvantage_1 = false;\n  costAdvantagePoints.value = 0;\n}\n\n// 轉換成本\nfunction conversionCostGivePoint() {\n  form.conversionCost_2 = false;\n  conversionCostPonits.value = 1;\n  if (form.conversionCost_1 == true) {\n    conversionCostPonits.value = 0;\n  }\n}\n\nfunction conversionCostNoGivePoint() {\n  form.conversionCost_1 = false;\n  conversionCostPonits.value = 0;\n}\n\n// 網路效應\nfunction networkEffectGivePoint() {\n  form.networkEffect_2 = false;\n  networkEffectPoints.value = 1;\n  if (form.networkEffect_1 == true) {\n    networkEffectPoints.value = 0;\n  }\n}\n\nfunction networkEffectNoGivePoint() {\n  form.networkEffect_1 = false;\n  networkEffectPoints.value = 0;\n}\n\n// 利基市場\nfunction nicheMarketGivePoint() {\n  form.nicheMarket_2 = false;\n  nicheMarketPoints.value = 1;\n  if (form.nicheMarket_1 == true) {\n    nicheMarketPoints.value = 0;\n  }\n}\n\nfunction nicheMarketNoGivePoint() {\n  form.nicheMarket_1 = false;\n  nicheMarketPoints.value = 0;\n}\n\n// 信心\nfunction confidenceGivePoint() {\n  form.confidence_2 = false;\n  confidencePoints.value = 1;\n  if (form.confidence_1 == true) {\n    confidencePoints.value = 0;\n  }\n}\n\nfunction confidenceNoGivePoint() {\n  form.confidence_1 = false;\n  confidencePoints.value = 0;\n}\n\nwatch(form, () => {\n  count();\n});\n\nfunction count() {\n  total.value =\n    brandPoints.value +\n    patentPoints.value +\n    costAdvantagePoints.value +\n    conversionCostPonits.value +\n    networkEffectPoints.value +\n    nicheMarketPoints.value +\n    confidencePoints.value;\n}\n\nfunction reset() {\n  stock.value = \"\";\n  form.brand_1 = \"\";\n  form.brand_2 = \"\";\n  form.patent_1 = \"\";\n  form.patent_2 = \"\";\n  form.costAdvantage_1 = \"\";\n  form.costAdvantage_2 = \"\";\n  form.conversionCost_1 = \"\";\n  form.conversionCost_2 = \"\";\n  form.networkEffect_1 = \"\";\n  form.networkEffect_2 = \"\";\n  form.nicheMarket_1 = \"\";\n  form.nicheMarket_2 = \"\";\n  form.confidence_1 = \"\";\n  form.confidence_2 = \"\";\n  brandPoints.value = 0;\n  patentPoints.value = 0;\n  costAdvantagePoints.value = 0;\n  conversionCostPonits.value = 0;\n  networkEffectPoints.value = 0;\n  nicheMarketPoints.value = 0;\n  confidencePoints.value = 0;\n}\n\n//\nfunction isLetterOrDot(e) {\n  // 獲取字元\n  let char = String.fromCharCode(e.keyCode);\n  // 正則表達式，只允許英文字母和點號\n  const regex = /^[a-zA-Z.]*$/;\n  if (regex.test(char)) {\n    return true;\n  } else {\n    // 如果不匹配，不添加到input框\n    e.preventDefault();\n  }\n}\n\nwatch(stock, (value) => {\n  if (value.length > 0) {\n    isStockEmpty.value = false;\n  } else {\n    isStockEmpty.value = true;\n  }\n});\n\nfunction stockUpperCase() {\n  stock.value = stock.value.toUpperCase();\n}\n\n// 匯出csv\nfunction exportToCSV() {\n  if (!stock.value) {\n    isStockEmpty.value = true;\n    return;\n  }\n\n  const data = [\n    {\n      護城河項目: \"品牌\",\n      競爭優勢: \"你會因為這個品牌而購買嗎？\",\n      可獲的分數: 1,\n      給分:\n        form.brand_1 == \"\" && form.brand_2 == \"\"\n          ? null\n          : `${form.brand_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      護城河項目: \"\",\n      競爭優勢: \"品牌會影響你的消費決策嗎？\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n    {\n      護城河項目: \"\",\n      競爭優勢: \"你願意因為這個品牌多付一些錢嗎？\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n    {\n      護城河項目: \"\",\n      競爭優勢: \"\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n    {\n      護城河項目: \"專利、特許執照\",\n      競爭優勢: \"專利：企業取得法律的保護，競爭者無法製造任何相似的產品\",\n      可獲的分數: 1,\n      給分:\n        form.patent_1 == \"\" && form.patent_2 == \"\"\n          ? null\n          : `${form.patent_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      護城河項目: \"\",\n      競爭優勢: \"特許：擁有不易申請通過的政府許可經營執照\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n    {\n      護城河項目: \"\",\n      競爭優勢: \"\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n    {\n      護城河項目: \"成本優勢\",\n      競爭優勢: \"生產成本：擁有別人沒有的低生產成本或掌握通路\",\n      可獲的分數: 1,\n      給分:\n        form.costAdvantage_1 == \"\" && form.costAdvantage_2 == \"\"\n          ? null\n          : `${form.costAdvantage_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      護城河項目: \"\",\n      競爭優勢: \"運輸成本：有好的地理位置，降低運輸成本\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n    {\n      護城河項目: \"\",\n      競爭優勢: \"特有資產：擁有世界級的天然資源\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n\n    {\n      護城河項目: \"\",\n      競爭優勢: \"經濟規模：規模是同業的5倍以上\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n    {\n      護城河項目: \"\",\n      競爭優勢: \"\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n    {\n      護城河項目: \"高轉換成本\",\n      競爭優勢: \"轉換過程會產生大量風險或機會成本\",\n      可獲的分數: 1,\n      給分:\n        form.conversionCost_1 == \"\" && form.conversionCost_2 == \"\"\n          ? null\n          : `${form.conversionCost_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      護城河項目: \"網絡效應\",\n      競爭優勢: \"產品價值隨著使用的人數上升而提升\",\n      可獲的分數: 1,\n      給分:\n        form.networkEffect_1 == \"\" && form.networkEffect_2 == \"\"\n          ? null\n          : `${form.networkEffect_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      護城河項目: \"\",\n      競爭優勢: \"\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n    {\n      護城河項目: \"利基市場\",\n      競爭優勢: \"在小市場有顯著規模\",\n      可獲的分數: 1,\n      給分:\n        form.nicheMarket_1 == \"\" && form.nicheMarket_2 == \"\"\n          ? null\n          : `${form.nicheMarket_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      護城河項目: \"\",\n      競爭優勢: \"地理壟斷\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n    {\n      護城河項目: \"\",\n      競爭優勢: \"\",\n      可獲的分數: \"\",\n      給分: \"\",\n    },\n    {\n      護城河項目: \"信心\",\n      競爭優勢: \"認為還可以存在超過10年\",\n      可獲的分數: 1,\n      給分:\n        form.confidence_1 == \"\" && form.confidence_2 == \"\"\n          ? null\n          : `${form.confidence_1 ? \"✓\" : \"✗\"}`,\n    },\n    { 護城河項目: \"\", 競爭優勢: \"\", 可獲的分數: \"總分\", 給分: total.value },\n  ];\n  const hasNullScore = data.some((row) => {\n    return row.給分 === null;\n  });\n\n  if (hasNullScore) {\n    alert(\"請在匯出CSV之前勾選所有評分\");\n    return;\n  }\n  const csv = Papa.unparse(data, {\n    encoding: \"utf-8\",\n    quotes: true,\n    quoteChar: '\"',\n    escapeChar: '\"',\n    delimiter: \",\",\n    header: true,\n    newline: \"\\r\\n\",\n    skipEmptyLines: true,\n  });\n  const blob = new Blob([new Uint8Array([0xef, 0xbb, 0xbf]), csv], {\n    type: \"text/csv;charset=utf-8;\",\n  });\n  const url = window.URL.createObjectURL(blob);\n  const link = document.createElement(\"a\");\n  link.href = url;\n  // Get the current date\n  const currentDate = new Date();\n  const year = currentDate.getFullYear();\n  const month = String(currentDate.getMonth() + 1).padStart(2, \"0\");\n  const day = String(currentDate.getDate()).padStart(2, \"0\");\n  // Construct the filename with the current date\n  const filename = `${year}${month}${day}_${stock.value}_護城河優勢.csv`;\n  link.download = filename;\n  link.click();\n  window.URL.revokeObjectURL(url);\n}\n</script>\n<style>\n.table .m_body tr:nth-child(2) th,\n.table .m_body tr:nth-child(5) th,\n.table .m_body tr:nth-child(7) th,\n.table .m_body tr:nth-child(11) th,\n.table .m_body tr:nth-child(12) th,\n.table .m_body tr:nth-child(13) th,\n.table .m_body tr:nth-child(15) th {\n  background-color: #aebad2;\n}\n\n.table .m_body tr:nth-child(2),\n.table .m_body tr:nth-child(3),\n.table .m_body tr:nth-child(4),\n.table .m_body tr:nth-child(5),\n.table .m_body tr:nth-child(6),\n.table .m_body tr:nth-child(7),\n.table .m_body tr:nth-child(8),\n.table .m_body tr:nth-child(9),\n.table .m_body tr:nth-child(10),\n.table .m_body tr:nth-child(11),\n.table .m_body tr:nth-child(12),\n.table .m_body tr:nth-child(13),\n.table .m_body tr:nth-child(14),\n.table .m_body tr:nth-child(15) {\n  background-color: rgb(232, 238, 251);\n}\n\n.table .m_body tr:nth-child(2) td:nth-child(4),\n.table .m_body tr:nth-child(5) td:nth-child(4),\n.table .m_body tr:nth-child(7) td:nth-child(4),\n.table .m_body tr:nth-child(11) td:nth-child(4),\n.table .m_body tr:nth-child(12) td:nth-child(4),\n.table .m_body tr:nth-child(13) td:nth-child(4),\n.table .m_body tr:nth-child(15) td:nth-child(4) {\n  background-color: #fff;\n}\n</style>\n","import script from \"./Moat.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Moat.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Moat.vue?vue&type=style&index=0&id=f32c9c1c&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"container\" v-if=\"!isEdit\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-md-4 col-sm-10\">\n        <div class=\"input-group has-validation\">\n          <input v-model=\"stock\" @keypress=\"isLetterOrDot($event)\" maxlength=\"5\" class=\"form-control\"\n            placeholder=\"請輸入股票代碼，只能輸入英文字母和.\" @blur=\"stockUpperCase()\" :class=\"{ 'is-invalid': isStockEmpty }\" />\n          <div v-if=\"isStockEmpty\" class=\"invalid-feedback\">\n            請輸入股票代碼\n          </div>\n        </div>\n        <div class=\"input-group-append button-group\">\n          <button type=\"button\" class=\"btn btn-success\" @click=\"exportToCSV()\">\n            <font-awesome-icon icon=\"fa-file-csv\" />\n            匯出csv\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <table class=\"table\">\n    <thead class=\"table-dark\">\n      <tr>\n        <th>風險扣分</th>\n      </tr>\n    </thead>\n    <tbody class=\"r_body\">\n      <tr class=\"title\">\n        <th>風險項目</th>\n        <th>風險可能性</th>\n        <th>需扣的分數</th>\n        <th>扣分</th>\n      </tr>\n      <tr>\n        <th>科技風險</th>\n        <td>科技業、時尚潮流</td>\n        <td>-1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.technologyRisk_1\" @click=\"technologyRiskDeductPoint()\"\n              type=\"checkbox\" id=\"technologyRisk_1\" />\n            <label class=\"form-check-label\" for=\"technologyRisk_1\">扣分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.technologyRisk_2\" type=\"checkbox\" id=\"technologyRisk_2\"\n              @click=\"technologyRiskNoDeductPoint()\" />\n            <label class=\"form-check-label\" for=\"technologyRisk_2\">不扣分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th>政府風險</th>\n        <td>易受政策影響</td>\n        <td>-1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.governmentRisk_1\" @click=\"governmentRiskDeductPoint()\"\n              type=\"checkbox\" id=\"governmentRisk_1\" />\n            <label class=\"form-check-label\" for=\"governmentRisk_1\">扣分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.governmentRisk_2\" type=\"checkbox\" id=\"governmentRisk_2\"\n              @click=\"governmentRiskNoDeductPoint()\" />\n            <label class=\"form-check-label\" for=\"governmentRisk_2\">不扣分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th>中國風險</th>\n        <td>中國公司在美國掛牌</td>\n        <td>-1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.chinaRisk_1\" @click=\"chinaRiskDeductPoint()\" type=\"checkbox\"\n              id=\"chinaRisk_1\" />\n            <label class=\"form-check-label\" for=\"chinaRisk_1\">扣分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.chinaRisk_2\" type=\"checkbox\" id=\"chinaRisk_2\"\n              @click=\"chinaRiskNoDeductPoint()\" />\n            <label class=\"form-check-label\" for=\"chinaRisk_2\">不扣分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td></td>\n        <td></td>\n        <td style=\"background-color: #f6b3bb\">總分</td>\n        <td style=\"background-color: #f6b3bb\">{{ total }}</td>\n        <td></td>\n      </tr>\n    </tbody>\n  </table>\n  <button style=\"text-align: center\" type=\"button\" class=\"btn btn-primary\" @click=\"reset()\">\n    <font-awesome-icon icon=\"fa-rotate-left\" />\n    Reset\n  </button>\n</template>\n<script setup>\nimport { reactive, ref } from \"@vue/reactivity\";\nimport { watch } from \"@vue/runtime-core\";\nimport Papa from \"papaparse\";\n\n// 股票代碼\nconst stock = ref(\"\");\n// 股票代碼是否未填\nconst isStockEmpty = ref(false);\n\nlet form = reactive({\n  technologyRisk_1: \"\",\n  technologyRisk_2: \"\",\n  governmentRisk_1: \"\",\n  governmentRisk_2: \"\",\n  chinaRisk_1: \"\",\n  chinaRisk_2: \"\",\n});\n\nlet technologyRiskPoint = ref(0);\nlet governmentRiskPoint = ref(0);\nlet chinaRiskPoint = ref(0);\nlet total = ref(0);\n\nfunction technologyRiskDeductPoint() {\n  form.technologyRisk_2 = false;\n  technologyRiskPoint.value = -1;\n  if (form.technologyRisk_1 == true) {\n    technologyRiskPoint.value = 0;\n  }\n}\n\nfunction technologyRiskNoDeductPoint() {\n  form.technologyRisk_1 = false;\n  technologyRiskPoint.value = 0;\n}\n\nfunction governmentRiskDeductPoint() {\n  form.governmentRisk_2 = false;\n  governmentRiskPoint.value = -1;\n  if (form.governmentRisk_1 == true) {\n    governmentRiskPoint.value = 0;\n  }\n}\n\nfunction governmentRiskNoDeductPoint() {\n  form.governmentRisk_1 = false;\n  governmentRiskPoint.value = 0;\n}\n\nfunction chinaRiskDeductPoint() {\n  form.chinaRisk_2 = false;\n  chinaRiskPoint.value = -1;\n  if (form.chinaRisk_1 == true) {\n    chinaRiskPoint.value = 0;\n  }\n}\n\nfunction chinaRiskNoDeductPoint() {\n  form.chinaRisk_1 = false;\n  chinaRiskPoint.value = 0;\n}\n\nwatch(form, () => {\n  count();\n});\n\nfunction count() {\n  total.value =\n    technologyRiskPoint.value +\n    governmentRiskPoint.value +\n    chinaRiskPoint.value;\n}\n\nfunction reset() {\n  stock.value = \"\";\n  form.technologyRisk_1 = \"\";\n  form.technologyRisk_2 = \"\";\n  form.governmentRisk_1 = \"\";\n  form.governmentRisk_2 = \"\";\n  form.chinaRisk_1 = \"\";\n  form.chinaRisk_2 = \"\";\n  technologyRiskPoint.value = 0;\n  governmentRiskPoint.value = 0;\n  chinaRiskPoint.value = 0;\n}\n\nfunction isLetterOrDot(e) {\n  // 獲取字元\n  let char = String.fromCharCode(e.keyCode);\n  // 正則表達式，只允許英文字母和點號\n  const regex = /^[a-zA-Z.]*$/;\n  if (regex.test(char)) {\n    return true;\n  } else {\n    // 如果不匹配，不添加到input框\n    e.preventDefault();\n  }\n}\n\nwatch(stock, (value) => {\n  if (value.length > 0) {\n    isStockEmpty.value = false;\n  } else {\n    isStockEmpty.value = true;\n  }\n});\n\nfunction stockUpperCase() {\n  stock.value = stock.value.toUpperCase();\n}\n\n// 匯出csv\nfunction exportToCSV() {\n  if (!stock.value) {\n    isStockEmpty.value = true;\n    return;\n  }\n\n  const data = [\n    {\n      風險項目: \"科技風險\",\n      風險可能性: \"科技業、時尚潮流\",\n      需扣的分數: -1,\n      扣分:\n        form.technologyRisk_1 == \"\" && form.technologyRisk_2 == \"\"\n          ? null\n          : `${form.technologyRisk_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      風險項目: \"政府風險\",\n      風險可能性: \"易受政策影響\",\n      需扣的分數: -1,\n      扣分:\n        form.governmentRisk_1 == \"\" && form.governmentRisk_2 == \"\"\n          ? null\n          : `${form.governmentRisk_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      風險項目: \"中國風險\",\n      風險可能性: \"中國公司在美國掛牌\",\n      需扣的分數: -1,\n      扣分:\n        form.chinaRisk_1 == \"\" && form.chinaRisk_2 == \"\"\n          ? null\n          : `${form.chinaRisk_1 ? \"✓\" : \"✗\"}`,\n    },\n    { 風險項目: \"\", 風險可能性: \"\", 需扣的分數: \"總分\", 扣分: total.value },\n  ];\n  const hasNullScore = data.some((row) => {\n    return row.扣分 === null;\n  });\n\n  if (hasNullScore) {\n    alert(\"請在匯出CSV之前勾選所有評分\");\n    return;\n  }\n  const csv = Papa.unparse(data, {\n    encoding: \"utf-8\",\n    quotes: true,\n    quoteChar: '\"',\n    escapeChar: '\"',\n    delimiter: \",\",\n    header: true,\n    newline: \"\\r\\n\",\n    skipEmptyLines: true,\n  });\n  const blob = new Blob([new Uint8Array([0xef, 0xbb, 0xbf]), csv], {\n    type: \"text/csv;charset=utf-8;\",\n  });\n  const url = window.URL.createObjectURL(blob);\n  const link = document.createElement(\"a\");\n  link.href = url;\n  // Get the current date\n  const currentDate = new Date();\n  const year = currentDate.getFullYear();\n  const month = String(currentDate.getMonth() + 1).padStart(2, \"0\");\n  const day = String(currentDate.getDate()).padStart(2, \"0\");\n  // Construct the filename with the current date\n  const filename = `${year}${month}${day}_${stock.value}_風險扣分.csv`;\n  link.download = filename;\n  link.click();\n  window.URL.revokeObjectURL(url);\n}\n</script>\n<style>\n.table .r_body tr:nth-child(2) th,\n.table .r_body tr:nth-child(3) th,\n.table .r_body tr:nth-child(4) th {\n  background-color: #aebad2;\n}\n\n.table .r_body tr:nth-child(2),\n.table .r_body tr:nth-child(3),\n.table .r_body tr:nth-child(4) {\n  background-color: rgb(232, 238, 251);\n}\n\n.table .r_body tr:nth-child(2) td:nth-child(4),\n.table .r_body tr:nth-child(3) td:nth-child(4),\n.table .r_body tr:nth-child(4) td:nth-child(4) {\n  background-color: #fff;\n}\n</style>\n","import script from \"./Risk.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Risk.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Risk.vue?vue&type=style&index=0&id=447cd268&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <section class=\"col-md-6\">\n        <header>\n          <h2>網站說明</h2>\n        </header>\n        <p class=\"text-left\">\n          本網站將【慢遊美股VIP】財報分析的Excel表格使用網頁呈現，能更加方便學員分析公司。\n        </p>\n        <p class=\"text-left\">\n          使用<a\n            class=\"custom-link\"\n            href=\"https://www.alphavantage.co/\"\n            target=\"_blank\"\n          >\n            Alpha Vantage </a\n          >提供的免費 API 查詢名稱與股價，限制：每分鐘最多 5 次查詢，每天最多\n          500 次查詢\n        </p>\n        <p class=\"text-left\">\n          在此網站的表格中，有加入課程中提到擇一加分的邏輯，如：10年每年持續穩定發股息／10年股息每年越發越多，擇一加分，此時勾選其中一個給分，另一格則自動勾選不給分\n        </p>\n        <p class=\"text-left\">\n          此外，每一格評分數據提供了相對應的網址，輸入股票代碼後會自動更新網址，此時，點擊網址可直接跳轉到對應股票的評分數據網站；另外還提供了「一鍵開啟財報網站」按鈕，點擊可打開所有數據對應的網站。\n        </p>\n      </section>\n      <section class=\"col-md-6\">\n        <h2>注意事項</h2>\n        <ul class=\"text-left\">\n          <li>\n            切換到其他表格<b>數據不保留</b>，請記錄完所需數據後再切換到其他表格\n          </li>\n          <li>\n            點擊「編輯」按鈕時，下面表格<b>分數會歸零並清空checkbox所有勾選項</b>，請記錄完分數後再進行編輯\n          </li>\n          <li>\n            表格最下面的「Reset」按鈕，只針對表格內的checkbox和分數進行重置\n          </li>\n          <li>\n            在\n            <router-link to=\"/bank\" class=\"custom-link\"\n              >銀行股評分標準</router-link\n            >\n            表格中的利息收入比 (Interest Income Ratio)，提供兩個 input 框計算\n            ratio，輸入完點擊「計算」按鈕 或 按下「Enter 鍵」即可計算出\n            ratio，並判斷是否低於50%，自動勾選給分/不給分\n          </li>\n        </ul>\n        <ul class=\"text-left\">\n          <li>\n            在更新 MorningStar 網址這部分，網址組成較其他網站複雜，需要先傳送請求判斷網址是否回應200再更新網址，\n            此時會碰到 cors 的錯誤導致更新異常，這邊使用 <a href=\"https://cors-anywhere.herokuapp.com/\" target=\"_blank\">cors-anywhere</a> 解決cors錯誤，\n            需要使用者前往這個網站 <a target=\"_blank\" href=\"https://cors-anywhere.herokuapp.com/https://www.morningstar.com/\">cors-anywhere</a>，\n            並點擊 Request temporary access to the demo server，點選完之後會跳出 You currently have temporary access to the demo server.，\n            此時就能正常更新 MorningStar 網址了\n          </li>\n        </ul>\n      </section>\n      <section class=\"col-md-7\">\n        <h2>使用方法</h2>\n        <ol class=\"custom-list text-left\">\n          <li>\n            在輸入框中輸入要查詢的股票代碼，只能輸入<b>英文字母和「.」</b>，最多五個字元，英文小寫一律會被轉為大寫，例如：brk.b\n            → BRK.B\n          </li>\n          <li>\n            點擊「確認」按鈕 或 按下「Enter\n            鍵」，此時會檢查欄位是否為空、股票代碼是否正確\n          </li>\n          <li>\n            若欄位不為空並且股票代碼正確，系統會自動查詢股票的名稱和價格，並將其顯示在畫面上。\n          </li>\n          <li>\n            同時，會更新網站的 URL 鏈接，點擊可以直接跳到該評分數據所在的網址。\n          </li>\n          <li>\n            如果想查詢其他股票，點選欄位下方「編輯」，就會切換到輸入框，此時會清空下面的勾選以及分數，之後只需重複上述步驟即可。\n          </li>\n        </ol>\n      </section>\n      <section class=\"col-md-4\">\n        <h2>問題回報</h2>\n        <p>\n          有遇到任何問題或是改進建議，可以聯絡信箱：a930387@gmail.com，主旨：【評分網站】xxxx\n        </p>\n        <button\n          class=\"btn\"\n          :class=\"{\n            'btn-success': !isEmailCopied,\n            'btn-outline-success': isEmailCopied,\n          }\"\n          type=\"button\"\n          @click=\"copyEmail()\"\n          style=\"margin-right: 7px\"\n        >\n          <font-awesome-icon v-if=\"isEmailCopied\" icon=\"fa-paste\" />\n          <font-awesome-icon v-else icon=\"fa-envelope\" />\n          {{ isEmailCopied ? \"已複製\" : \"複製信箱\" }}\n        </button>\n        <button\n          class=\"btn\"\n          :class=\"{\n            'btn-primary': !isSubjectCopied,\n            'btn-outline-primary': isSubjectCopied,\n          }\"\n          type=\"button\"\n          @click=\"copySubject()\"\n          style=\"margin-right: 7px\"\n        >\n          <font-awesome-icon v-if=\"isSubjectCopied\" icon=\"fa-paste\" />\n          <font-awesome-icon v-else icon=\"fa-clipboard\" />\n          {{ isSubjectCopied ? \"已複製\" : \"複製主旨\" }}\n        </button>\n      </section>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { reactive, ref } from \"@vue/reactivity\";\nimport useClipboard from \"vue-clipboard3\";\n\n// 初始化剪貼板功能\nconst { toClipboard } = useClipboard();\n\n// 複製email\nconst isEmailCopied = ref(false);\nasync function copyEmail() {\n  try {\n    await toClipboard(\"a930387@gmail.com\");\n    isEmailCopied.value = true;\n    setTimeout(() => {\n      isEmailCopied.value = false;\n    }, 2000);\n  } catch (error) {\n    console.log(error);\n  }\n}\n// 複製主旨\nconst isSubjectCopied = ref(false);\nasync function copySubject() {\n  try {\n    await toClipboard(\"【評分網站】\");\n    isSubjectCopied.value = true;\n    setTimeout(() => {\n      isSubjectCopied.value = false;\n    }, 2000);\n  } catch (error) {\n    console.log(error);\n  }\n}\n</script>\n\n<style scoped>\na {\n  text-decoration: none;\n}\n.custom-list {\n  list-style-type: decimal;\n  padding-left: 20px;\n}\n\n.container {\n  margin-top: 50px;\n}\n\nh2 {\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n\np {\n  margin-bottom: 10px;\n}\n\n.custom-link {\n  color: #007bff;\n  text-decoration: none;\n}\n\n.text-left {\n  text-align: left;\n}\n</style>\n","import script from \"./Instructions.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Instructions.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Instructions.vue?vue&type=style&index=0&id=3168d2d2&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Lin\\\\Documents\\\\Studio\\\\project\\\\VIP\\\\financial-report-analysis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3168d2d2\"]])\n\nexport default __exports__","<template>\n  <teleport to=\"body\">\n    <transition name=\"fade\">\n      <div\n        v-if=\"modelValue\"\n        class=\"pt-5 position-fixed top-0 start-0 h-100 w-100\"\n        style=\"background-color: rgba(0, 0, 0, 0.25)\"\n      >\n        <div\n          id=\"backdrop\"\n          @click=\"backdropClick\"\n          class=\"modal1-dialog h-100 overflow-auto\"\n        >\n          <div\n            class=\"card px-0\"\n            :class=\"container == null ? 'container' : `container-${container}`\"\n            :style=\"maxwidth != null ? `max-width: ${maxwidth}` : null\"\n          >\n            <div class=\"card-header h2\">\n              {{ header }}\n              <button\n                v-if=\"closeable\"\n                @click=\"$emit('update:modelValue', false)\"\n                class=\"btn btn-text float-end\"\n              >\n                <strong>X</strong>\n              </button>\n            </div>\n            <div class=\"card-body\">\n              <slot></slot>\n            </div>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </teleport>\n</template>\n\n<script setup>\nimport { defineProps, defineEmit, ref } from \"vue\";\n\nconst isVisible = ref(false);\n\nconst backdropClick = (event) => {\n  if (event.target.id == \"backdrop\" && props.closeable == true) {\n    emit(\"update:modelValue\", false);\n  }\n};\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean,\n    required: true,\n    default: false,\n  },\n  closeable: {\n    type: Boolean,\n    required: false,\n    default: false,\n  },\n  header: {\n    type: String,\n    required: false,\n    default: null,\n  },\n  container: {\n    type: String,\n    required: false,\n    default: null,\n  },\n  maxwidth: {\n    type: String,\n    required: false,\n    default: null,\n  },\n});\n</script>\n\n<style scoped>\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n</style>\n","import script from \"./Modal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Modal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Modal.vue?vue&type=style&index=0&id=3193e13c&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Lin\\\\Documents\\\\Studio\\\\project\\\\VIP\\\\financial-report-analysis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3193e13c\"]])\n\nexport default __exports__","<template>\n  <Modal v-model=\"errorModal\" closeable header=\"發生錯誤\">\n    <p>\n      MorningStar 無法導向 {{ stock }} 股票代碼的頁面，若要成功導向 {{ stock }} 股票代碼頁面\n      請前往這個網站 <a style=\"text-decoration: none\" target=\"_blank\"\n        href=\"https://cors-anywhere.herokuapp.com/https://www.morningstar.com/\">cors-anywhere</a>，\n      並點擊 Request temporary access to the demo server，點選完之後會跳出 You currently have temporary access to the demo server.，\n      現在查詢 MorningStar 就可以導向 {{ stock }} 股票代碼的頁面了\n    </p>\n  </Modal>\n  <div class=\"container\" v-if=\"!isEdit\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-md-4 col-sm-10\">\n        <div class=\"input-group has-validation\">\n          <input v-model=\"stock\" @keypress=\"isLetterOrDot($event)\" maxlength=\"5\" class=\"form-control\"\n            placeholder=\"請輸入股票代碼，只能輸入英文字母和.\" :class=\"{ 'is-invalid': isStockEmpty || !stockExsits }\"\n            :disabled=\"isDisabled\" @keyup.enter=\"confirm()\" ref=\"stockField\" />\n          <div v-if=\"isStockEmpty || !stockExsits\" class=\"invalid-feedback\">\n            {{ errorMessage }}\n          </div>\n        </div>\n        <div class=\"input-group-append button-group\">\n          <button class=\"btn btn-primary\" @click=\"confirm\" :disabled=\"isDisabled\">\n            <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm\" style=\"margin-right: 10px\" />\n            <font-awesome-icon icon=\"fa-magnifying-glass\" />\n            查詢\n          </button>\n          <button class=\"btn btn-secondary\" @click=\"clear\" :disabled=\"isDisabled\">\n            <font-awesome-icon icon=\"fa-eraser\" />\n            清除\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"container\" v-else>\n    <div class=\"row justify-content-center\">\n      <div class=\"col-md-4 col-sm-8\">\n        <div class=\"form-group\">\n          <label for=\"stockLabel\">分析股票代碼</label>\n          <input id=\"stockLabel\" class=\"form-control\" :value=\"stock\" disabled />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"nameLabel\">股票名稱</label>\n          <input id=\"nameLabel\" class=\"form-control\" :value=\"stockName\" disabled />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"priceLabel\">現在股價</label>\n          <div class=\"input-group\">\n            <input id=\"priceLabel\" type=\"number\" class=\"form-control\" :class=\"{ 'is-invalid': isCallLimitReached }\"\n              :value=\"stockPrice\" :disabled=\"!isCallLimitReached\" />\n            <!-- <span class=\"input-group-text\">{{ currency }}</span> -->\n            <div v-if=\"isCallLimitReached\" class=\"invalid-feedback\">\n              {{ stockPriceErrorMessage }}\n            </div>\n            <div v-else class=\"input-groutruep-append\" style=\"padding: 0 0.5rem\">\n              <button class=\"btn\" :class=\"{\n                  'btn-outline-secondary': !isCopied,\n                  'btn-outline-success': isCopied,\n                }\" type=\"button\" @click=\"touchCopy()\">\n                <font-awesome-icon v-if=\"isCopied\" icon=\"fa-paste\" />\n                <font-awesome-icon v-else icon=\"fa-clipboard\" />\n                {{ isCopied ? \"已複製\" : \"複製股價\" }}\n              </button>\n            </div>\n          </div>\n        </div>\n        <div class=\"text-center button-group\">\n          <button class=\"btn btn-primary\" @click=\"edit\">\n            <font-awesome-icon icon=\"fa-edit\" />\n            編輯\n          </button>\n          <button type=\"button\" class=\"btn btn-success\" @click=\"exportToCSV()\">\n            <font-awesome-icon icon=\"fa-file-csv\" />\n            匯出csv\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <table class=\"table\">\n    <thead>\n      <tr>\n        <th class=\"table-dark\">【REITs】評分標準</th>\n        <th />\n        <th />\n        <th>\n          <button class=\"btn btn-sm\" :class=\"{\n              'btn-outline-danger': !isNoDivdend,\n              'btn-outline-dark': isNoDivdend,\n            }\" @click=\"noDivdends()\">\n            <font-awesome-icon v-show=\"!isNoDivdend\" icon=\"fa-xmark\" />\n            {{ isNoDivdend ? \"股息不給分\" : \"不發股息\" }}\n          </button>\n        </th>\n        <th>\n          <button class=\"btn btn-outline-success btn-sm\" @click=\"openUrls()\" :disabled=\"isDisabled\">\n            <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm\" style=\"margin-right: 10px\" />\n            <font-awesome-icon icon=\"fa-window-restore\" />\n            一鍵開啟財報網址\n          </button>\n        </th>\n      </tr>\n    </thead>\n    <tbody class=\"reits_body\">\n      <tr class=\"title\">\n        <th>評分數據</th>\n        <th>評分標準</th>\n        <th>給分標準</th>\n        <th>給分</th>\n        <th>網址</th>\n      </tr>\n      <tr>\n        <th rowspan=\"3\">Divdend 股息</th>\n        <td>10年每年持續穩定發股息</td>\n        <td>0.5</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend1_1\" @click=\"divdend1GetPoint()\" type=\"checkbox\"\n              id=\"divdend1_1\" />\n            <label class=\"form-check-label\" for=\"divdend1_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend1_2\" type=\"checkbox\" id=\"divdend1_2\"\n              @click=\"divdend1NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"divdend1_2\">不給分</label>\n          </div>\n        </td>\n        <td rowspan=\"2\" class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              stockrow\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"stockrowUrl\" target=\"_blank\">stockrow</a>\n            <a v-show=\"isShowDividendUrl\" :href=\"morningStarDividendUrl\" target=\"_blank\">morningstar Dividends</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>10年股息每年越發越多</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend2_1\" @click=\"divdend2GetPoint()\" type=\"checkbox\"\n              id=\"divdend2_1\" />\n            <label class=\"form-check-label\" for=\"divdend2_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend2_2\" type=\"checkbox\" id=\"divdend2_2\"\n              @click=\"divdend2NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"divdend2_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>5年股息成長率 > 10年股息成長率</td>\n        <td>0.5</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend3_1\" @click=\"divdend3GetPoint()\" type=\"checkbox\"\n              id=\"divdend3_1\" />\n            <label class=\"form-check-label\" for=\"divdend3_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend3_2\" type=\"checkbox\" id=\"divdend3_2\"\n              @click=\"divdend3NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"divdend3_2\">不給分</label>\n          </div>\n        </td>\n        <td class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              gurufocus\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"gurufocusUrl\" target=\"_blank\">gurufocus</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th scope=\"row\" style=\"color: red\">EPS (Diluted) 每股盈餘</th>\n        <td style=\"color: red\">10年穩定</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.eps_1\" @click=\"epsGetPoint()\" type=\"checkbox\" id=\"eps_1\" />\n            <label class=\"form-check-label\" for=\"eps_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.eps_2\" type=\"checkbox\" id=\"eps_2\" @click=\"epsNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"eps_2\">不給分</label>\n          </div>\n        </td>\n        <td class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              stockrow Income\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"incomeUrl\" target=\"_blank\">stockrow Income</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th scope=\"row\">Shares (Common) 流通股數</th>\n        <td>流通股數10年穩定減少</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.shares_1\" @click=\"sharesGetPoint()\" type=\"checkbox\"\n              id=\"shares_1\" />\n            <label class=\"form-check-label\" for=\"shares_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.shares_2\" type=\"checkbox\" id=\"shares_2\"\n              @click=\"sharesNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"shares_2\">不給分</label>\n          </div>\n        </td>\n        <td class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              stockrow Balance Sheet\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"balanceSheetUrl\" target=\"_blank\">stockrow Balance Sheet</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th scope=\"row\">Debt / Equity 負債權益比</th>\n        <td>D/E &lt; 0.5</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.de_1\" @click=\"deGetPoint()\" type=\"checkbox\" id=\"de_1\" />\n            <label class=\"form-check-label\" for=\"de_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.de_2\" type=\"checkbox\" id=\"de_2\" @click=\"deNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"de_2\">不給分</label>\n          </div>\n        </td>\n        <td rowspan=\"6\" class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              stockrow Metrics\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"mertricsUrl\" target=\"_blank\">stockrow Metrics</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th style=\"color: red\">ROE(％) 股東權益率</th>\n        <td style=\"color: red\">10年 ROE 穩定</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.roe_1\" @click=\"roeGetPoint()\" type=\"checkbox\" id=\"roe_1\" />\n            <label class=\"form-check-label\" for=\"roe_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.roe_2\" type=\"checkbox\" id=\"roe_2\" @click=\"roeNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"roe_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th scope=\"row\">Book Value Per Share 每股淨值</th>\n        <td>10年穩定成長</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.bvps_1\" @click=\"bvpsGetPoint()\" type=\"checkbox\" id=\"bvps_1\" />\n            <label class=\"form-check-label\" for=\"bvps_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.bvps_2\" type=\"checkbox\" id=\"bvps_2\"\n              @click=\"bvpsNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"bvps_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th style=\"color: red\" scope=\"row\">Free Cash Flow 自由現金流</th>\n        <td style=\"color: red\">10年皆為正數且越來越多</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.fcf_1\" @click=\"fcfGetPoint()\" type=\"checkbox\" id=\"fcf_1\" />\n            <label class=\"form-check-label\" for=\"fcf_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.fcf_2\" type=\"checkbox\" id=\"fcf_2\" @click=\"fcfNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"fcf_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th rowspan=\"2\">Net Margin(%)淨利率</th>\n        <td>10年 Net Margin > 10%</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.net1_1\" @click=\"net1GetPoint()\" type=\"checkbox\" id=\"net1_1\" />\n            <label class=\"form-check-label\" for=\"net1_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.net1_2\" type=\"checkbox\" id=\"net1_2\"\n              @click=\"net1NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"net1_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>10年穩定不衰退</td>\n        <td>0.5</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.net2_1\" @click=\"net2GetPoint()\" type=\"checkbox\" id=\"net2_1\" />\n            <label class=\"form-check-label\" for=\"net2_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.net2_2\" type=\"checkbox\" id=\"net2_2\"\n              @click=\"net2NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"net2_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th style=\"color: red\" scope=\"row\">\n          Funds From Operations (OCF)營運現金流\n        </th>\n        <td style=\"color: red\">10年皆為正數且越來越多</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.ffo_1\" @click=\"ffoGetPoint()\" type=\"checkbox\" id=\"ffo_1\" />\n            <label class=\"form-check-label\" for=\"ffo_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.ffo_2\" type=\"checkbox\" id=\"ffo_2\" @click=\"ffoNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"ffo_2\">不給分</label>\n          </div>\n        </td>\n        <td class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              MarketWatch\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"marketWatchUrl\" target=\"_blank\">MarketWatch</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th rowspan=\"2\">IC 利息保障倍數</th>\n        <td>IC > 10 或 “-”</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.ic1_1\" @click=\"ic1GetPoint()\" type=\"checkbox\" id=\"ic1_1\" />\n            <label class=\"form-check-label\" for=\"ic1_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.ic1_2\" type=\"checkbox\" id=\"ic1_2\" @click=\"ic1NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"ic1_2\">不給分</label>\n          </div>\n        </td>\n        <td rowspan=\"2\" class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              Morningstar Key Ratio Data\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"morningStarUrl\" target=\"_blank\">Morningstar Key Ratio Data</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>IC > 5</td>\n        <td>0.5</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.ic2_1\" @click=\"ic2GetPoint()\" type=\"checkbox\" id=\"ic2_1\" />\n            <label class=\"form-check-label\" for=\"ic2_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.ic2_2\" type=\"checkbox\" id=\"ic2_2\" @click=\"ic2NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"ic2_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td></td>\n        <td style=\"background-color: #f6b3bb\">總分</td>\n        <td style=\"background-color: #f6b3bb\">{{ total }}</td>\n        <td>\n          <button class=\"btn btn-sm\" :class=\"{\n              'btn-outline-dark': !isTotalCopied,\n              'btn-success': isTotalCopied,\n            }\" type=\"button\" @click=\"touchCopyTotal()\" style=\"margin-right: 7px\">\n            <font-awesome-icon v-if=\"isTotalCopied\" icon=\"fa-paste\" />\n            <font-awesome-icon v-else icon=\"fa-clipboard\" />\n            {{ isTotalCopied ? \"已複製\" : \"複製總分\" }}\n          </button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"reset()\">\n            <font-awesome-icon icon=\"fa-rotate-left\" />\n            Reset\n          </button>\n        </td>\n        <td>\n          <button type=\"button\" class=\"btn btn-success\" @click=\"exportToCSV()\">\n            <font-awesome-icon icon=\"fa-file-csv\" />\n            匯出csv\n          </button>\n        </td>\n      </tr>\n      <tr>\n        <td />\n        <td />\n        <td />\n        <td />\n        <td />\n      </tr>\n    </tbody>\n  </table>\n</template>\n<script setup>\nimport { reactive, ref } from \"@vue/reactivity\";\nimport { nextTick } from \"vue\";\nimport { watch } from \"@vue/runtime-core\";\nimport { useVuelidate } from \"@vuelidate/core\";\nimport { required } from \"@vuelidate/validators\";\nimport useClipboard from \"vue-clipboard3\";\nimport Modal from \"./Modal.vue\";\nimport Papa from \"papaparse\";\n\nconst errorModal = ref(false);\n\nlet form = reactive({\n  divdend1_1: \"\",\n  divdend1_2: \"\",\n  divdend2_1: \"\",\n  divdend2_2: \"\",\n  divdend3_1: \"\",\n  divdend3_2: \"\",\n  eps_1: \"\",\n  eps_2: \"\",\n  shares_1: \"\",\n  shares_2: \"\",\n  de_1: \"\",\n  de_2: \"\",\n  roe_1: \"\",\n  roe_2: \"\",\n  bvps_1: \"\",\n  bvps_2: \"\",\n  fcf_1: \"\",\n  fcf_2: \"\",\n  ffo_1: \"\",\n  ffo_2: \"\",\n  net1_1: \"\",\n  net1_2: \"\",\n  net2_1: \"\",\n  net2_2: \"\",\n  ic1_1: \"\",\n  ic1_2: \"\",\n  ic2_1: \"\",\n  ic2_2: \"\",\n  total: 0,\n});\n\nlet divdend1Points = ref(0);\nlet divdend2Points = ref(0);\nlet divdend3Points = ref(0);\nlet epsPoints = ref(0);\nlet sharesPoints = ref(0);\nlet dePoints = ref(0);\nlet roePoints = ref(0);\nlet bvpsPoints = ref(0);\nlet fcfPoints = ref(0);\nlet ffoPoints = ref(0);\nlet net1Points = ref(0);\nlet net2Points = ref(0);\nlet ic1Points = ref(0);\nlet ic2Points = ref(0);\nlet total = ref(0);\n\n// Divdend\nconst isNoDivdend = ref(false);\nfunction noDivdends() {\n  divdend1Points.value = 0;\n  divdend2Points.value = 0;\n  divdend3Points.value = 0;\n\n  form.divdend1_1 = false;\n  form.divdend2_1 = false;\n  form.divdend3_1 = false;\n\n  if (!form.divdend1_2 || !form.divdend2_2 || !form.divdend3_2) {\n    form.divdend1_2 = true;\n    form.divdend2_2 = true;\n    form.divdend3_2 = true;\n    isNoDivdend.value = true;\n  } else {\n    form.divdend1_2 = false;\n    form.divdend2_2 = false;\n    form.divdend3_2 = false;\n    isNoDivdend.value = false;\n  }\n}\n\nlet isShowDividendUrl = ref(false);\nwatch([() => form.divdend1_1, () => form.divdend2_1], (newValues) => {\n  if (newValues.some((value) => value)) {\n    isNoDivdend.value = false;\n    isShowDividendUrl.value = true;\n  } else {\n    isShowDividendUrl.value = false;\n  }\n});\n\nwatch(\n  [() => form.divdend1_1, () => form.divdend2_1, () => form.divdend3_1],\n  (newValues) => {\n    console.log(newValues);\n    if (newValues.every((value) => value === false)) {\n      isNoDivdend.value = true;\n      isShowDividendUrl.value = false;\n    }\n  }\n);\n\nwatch(\n  () => form.divdend1_1,\n  (newValue) => {\n    if (newValue) {\n      form.divdend2_2 = true;\n      form.divdend2_1 = false;\n      divdend2Points.value = 0;\n    }\n  }\n);\n\nwatch(\n  () => form.divdend2_1,\n  (newValue) => {\n    if (newValue) {\n      form.divdend1_2 = true;\n      form.divdend1_1 = false;\n      divdend1Points.value = 0;\n    }\n  }\n);\n\n// IC\nwatch(\n  () => form.ic1_1,\n  (newValue) => {\n    if (newValue) {\n      form.ic2_2 = true;\n      form.ic2_1 = false;\n      ic2Points.value = 0;\n    }\n  }\n);\nwatch(\n  () => form.ic2_1,\n  (newValue) => {\n    if (newValue) {\n      form.ic1_2 = true;\n      form.ic1_1 = false;\n      ic1Points.value = 0;\n    }\n  }\n);\n// Divdend\n// 10年每年持續穩定發股息\nfunction divdend1GetPoint() {\n  form.divdend1_2 = false;\n  divdend1Points.value = 0.5;\n  if (form.divdend1_1 == true) {\n    divdend1Points.value = 0;\n  }\n}\n\nfunction divdend1NotGetPoint() {\n  form.divdend1_1 = false;\n  divdend1Points.value = 0;\n}\n// 10年股息每年越發越多\nfunction divdend2GetPoint() {\n  form.divdend2_2 = false;\n  divdend2Points.value = 1;\n  if (form.divdend2_1 == true) {\n    divdend2Points.value = 0;\n  }\n}\n\nfunction divdend2NotGetPoint() {\n  form.divdend2_1 = false;\n  divdend2Points.value = 0;\n}\n\nfunction divdend3GetPoint() {\n  form.divdend3_2 = false;\n  divdend3Points.value = 0.5;\n  if (form.divdend3_1 == true) {\n    divdend3Points.value = 0;\n  }\n}\n\nfunction divdend3NotGetPoint() {\n  form.divdend3_1 = false;\n  divdend3Points.value = 0;\n}\n\n// EPS\nfunction epsGetPoint() {\n  form.eps_2 = false;\n  epsPoints.value = 1;\n  if (form.eps_1 == true) {\n    epsPoints.value = 0;\n  }\n}\n\nfunction epsNotGetPoint() {\n  form.eps_1 = false;\n  epsPoints.value = 0;\n}\n\n// Shares\nfunction sharesGetPoint() {\n  form.shares_2 = false;\n  sharesPoints.value = 1;\n  if (form.shares_1 == true) {\n    sharesPoints.value = 0;\n  }\n}\n\nfunction sharesNotGetPoint() {\n  form.shares_1 = false;\n  sharesPoints.value = 0;\n}\n\n// D/E\nfunction deGetPoint() {\n  form.de_2 = false;\n  dePoints.value = 1;\n  if (form.de_1 == true) {\n    dePoints.value = 0;\n  }\n}\n\nfunction deNotGetPoint() {\n  form.de_1 = false;\n  dePoints.value = 0;\n}\n\n// ROE\nfunction roeGetPoint() {\n  form.roe_2 = false;\n  roePoints.value = 1;\n  if (form.roe_1 == true) {\n    roePoints.value = 0;\n  }\n}\n\nfunction roeNotGetPoint() {\n  form.roe_1 = false;\n  roePoints.value = 0;\n}\n\n// BVPS\nfunction bvpsGetPoint() {\n  form.bvps_2 = false;\n  bvpsPoints.value = 1;\n  if (form.bvps_1 == true) {\n    bvpsPoints.value = 0;\n  }\n}\n\nfunction bvpsNotGetPoint() {\n  form.bvps_1 = false;\n  bvpsPoints.value = 0;\n}\n\n// FCF\nfunction fcfGetPoint() {\n  form.fcf_2 = false;\n  fcfPoints.value = 1;\n  if (form.fcf_1 == true) {\n    fcfPoints.value = 0;\n  }\n}\n\nfunction fcfNotGetPoint() {\n  form.fcf_1 = false;\n  fcfPoints.value = 0;\n}\n\n// FFO\nfunction ffoGetPoint() {\n  form.ffo_2 = false;\n  ffoPoints.value = 1;\n  if (form.ffo_1 == true) {\n    ffoPoints.value = 0;\n  }\n}\n\nfunction ffoNotGetPoint() {\n  form.ffo_1 = false;\n  ffoPoints.value = 0;\n}\n\n// Net Margin\nfunction net1GetPoint() {\n  form.net1_2 = false;\n  net1Points.value = 1;\n  if (form.net1_1 == true) {\n    net1Points.value = 0;\n  }\n}\n\nfunction net1NotGetPoint() {\n  form.net1_1 = false;\n  net1Points.value = 0;\n}\n\nfunction net2GetPoint() {\n  form.net2_2 = false;\n  net2Points.value = 0.5;\n  if (form.net2_1 == true) {\n    net2Points.value = 0;\n  }\n}\n\nfunction net2NotGetPoint() {\n  form.net2_1 = false;\n  net2Points.value = 0;\n}\n\n// IC利息保障倍數\nfunction ic1GetPoint() {\n  form.ic1_2 = false;\n  ic1Points.value = 1;\n  if (form.ic1_1 == true) {\n    ic1Points.value = 0;\n  }\n}\n\nfunction ic1NotGetPoint() {\n  form.ic1_1 = false;\n  ic1Points.value = 0;\n}\n\nfunction ic2GetPoint() {\n  form.ic2_2 = false;\n  ic2Points.value = 0.5;\n  if (form.ic2_1 == true) {\n    ic2Points.value = 0;\n  }\n}\n\nfunction ic2NotGetPoint() {\n  form.ic2_1 = false;\n  ic2Points.value = 0;\n}\n\nwatch(form, () => {\n  count();\n});\n\nfunction count() {\n  total.value =\n    divdend1Points.value +\n    divdend2Points.value +\n    divdend3Points.value +\n    epsPoints.value +\n    sharesPoints.value +\n    dePoints.value +\n    roePoints.value +\n    bvpsPoints.value +\n    fcfPoints.value +\n    ffoPoints.value +\n    net1Points.value +\n    net2Points.value +\n    ic1Points.value +\n    ic2Points.value;\n}\n\nfunction reset() {\n  form.divdend1_1 = \"\";\n  form.divdend1_2 = \"\";\n  form.divdend2_1 = \"\";\n  form.divdend2_2 = \"\";\n  form.divdend3_1 = \"\";\n  form.divdend3_2 = \"\";\n  form.eps_1 = \"\";\n  form.eps_2 = \"\";\n  form.shares_1 = \"\";\n  form.shares_2 = \"\";\n  form.de_1 = \"\";\n  form.de_2 = \"\";\n  form.roe_1 = \"\";\n  form.roe_2 = \"\";\n  form.bvps_1 = \"\";\n  form.bvps_2 = \"\";\n  form.fcf_1 = \"\";\n  form.fcf_2 = \"\";\n  form.ffo_1 = \"\";\n  form.ffo_2 = \"\";\n  form.net1_1 = \"\";\n  form.net1_2 = \"\";\n  form.net2_1 = \"\";\n  form.net2_2 = \"\";\n  form.ic1_1 = \"\";\n  form.ic1_2 = \"\";\n  form.ic2_1 = \"\";\n  form.ic2_2 = \"\";\n  divdend1Points.value = 0;\n  divdend2Points.value = 0;\n  divdend3Points.value = 0;\n  epsPoints.value = 0;\n  sharesPoints.value = 0;\n  dePoints.value = 0;\n  roePoints.value = 0;\n  bvpsPoints.value = 0;\n  fcfPoints.value = 0;\n  ffoPoints.value = 0;\n  net1Points.value = 0;\n  net2Points.value = 0;\n  ic1Points.value = 0;\n  ic2Points.value = 0;\n  isNoDivdend.value = false;\n}\n\n// =======================================================================\n// url\nconst stockRowIndex = \"https://stockrow.com/\";\nconst gurufocusIndex = \"https://www.gurufocus.com/\";\nconst morningStarIndex = \"https://www.morningstar.com/\";\nconst marketWatchIndex = \"https://www.marketwatch.com/\";\nconst stockrowUrl = ref(stockRowIndex);\nconst incomeUrl = ref(stockRowIndex);\nconst balanceSheetUrl = ref(stockRowIndex);\nconst mertricsUrl = ref(stockRowIndex);\nconst gurufocusUrl = ref(gurufocusIndex);\nconst morningStarUrl = ref(morningStarIndex);\nconst morningStarDividendUrl = ref(morningStarIndex);\nconst marketWatchUrl = ref(marketWatchIndex);\n// -------------------------------------------\n// stock api\nconst AlphaVantageNameAPI = (stockCode) => {\n  return `https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${stockCode}&apikey=8FYMDC697PL6LEEL`;\n};\nconst AlphaVantageGlobalAPI = (stockCode) => {\n  return `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${stockCode}&apikey=LP46XK632CAP8PVK`;\n};\nconst IEXCloudAPI = (stockCode) => {\n  return `https://api.iex.cloud/v1/data/core/quote/${stockCode}?token=pk_a1bf9b4aef2045e2bcff3f6eb3bff015`;\n};\nconst PolygonAPI = (stockCode) => {\n  return `https://api.polygon.io/v1/last_quote/stocks/${stockTicker}?apiKey=FwKVpAWvGdWPLQSgeDMnQC3aaxzvGtDg`;\n};\n// =======================================================================\n// 股票代碼\nconst stock = ref(\"\");\n// 股票名稱\nconst stockName = ref(\"\");\n// 股票價格\nconst stockPrice = ref(\"\");\n// 股票貨幣\nconst currency = ref(\"\");\n\n// 是否切換編輯\nconst isEdit = ref(false);\n// 股票代碼是否未填\nconst isStockEmpty = ref(false);\n// 股票代碼是否存在\nconst stockExsits = ref(true);\n// 查詢次數是否達上限\nconst isCallLimitReached = ref(false);\n// 是否loading\nconst isLoading = ref(false);\nconst isDisabled = ref(false);\n// 錯誤訊息\nconst errorMessage = ref(\"\");\nconst stockPriceErrorMessage = ref(\"\");\n// 輸入框規則\nconst rule = {\n  stock: { required },\n};\nconst v$ = useVuelidate(rule, { stock });\n\nasync function confirm() {\n  if (stock.value === \"\") {\n    isStockEmpty.value = true;\n    errorMessage.value = \"請輸入股票代碼\";\n    return;\n  }\n\n  if (v$.value.$invalid) {\n    isStockEmpty.value = false;\n    errorMessage.value = \"\";\n    return;\n  }\n\n  let stockCode = stock.value;\n\n  try {\n    isLoading.value = true;\n    isDisabled.value = true;\n\n    // 呼叫查詢股票api\n    // ======================================\n    // IEXCloudAPI\n    // ======================================\n    // #region\n    // const IEXResponse = await fetch(IEXCloudAPI(stockCode));\n    // const IEXData = await IEXResponse.json();\n    // const data = IEXData[0];\n\n    // if (!data) {\n    //   // 處理data為空的情况\n    //   stockExsits.value = false;\n    //   errorMessage.value = \"查無股票代碼\";\n    // } else {\n    //   stockExsits.value = true;\n    //   stockName.value = data.companyName;\n    //   stockPrice.value = data.latestPrice;\n    //   currency.value = `${data.currency}`;\n    // }\n    // #endregion\n    // ======================================\n    // IEXCloudAPI\n    // ======================================\n    // #region\n    const AlphaVantageNameResponse = await fetch(\n      AlphaVantageNameAPI(stockCode)\n    );\n    const nameData = await AlphaVantageNameResponse.json();\n\n    if (nameData.bestMatches && nameData.bestMatches.length > 0) {\n      stockExsits.value = true;\n      const matches = nameData.bestMatches;\n      const name = matches[0][\"2. name\"];\n      stockName.value = name;\n    } else {\n      // 處理data為空的情况\n      stockExsits.value = false;\n      errorMessage.value = \"查無股票代碼\";\n    }\n    // #endregion\n\n    if (stockExsits.value) {\n      // 查詢股價\n      const GlobalResponse = await fetch(AlphaVantageGlobalAPI(stockCode));\n      const GlobalData = await GlobalResponse.json();\n\n      // 如果有Note代表一分鐘查詢超過五次了\n      if (GlobalData[\"Note\"]) {\n        isCallLimitReached.value = true;\n        stockPrice.value = \"\";\n        stockPriceErrorMessage.value = \"每分鐘最多查詢5次，請稍後再試\";\n      }\n\n      // 取出股票的價格\n      if (GlobalData[\"Global Quote\"]) {\n        const price = GlobalData[\"Global Quote\"][\"05. price\"];\n        stockPrice.value = Number.parseFloat(price).toFixed(2);\n      }\n\n      // 修改url\n      stockrowUrl.value = stockRowIndex + stock.value;\n      incomeUrl.value = stockrowUrl.value + \"/financials/income/annual\";\n      balanceSheetUrl.value = stockrowUrl.value + \"/financials/balance/annual\";\n      mertricsUrl.value = stockrowUrl.value + \"/financials/metrics/annual\";\n      gurufocusUrl.value = `https://www.gurufocus.com/stock/${stock.value}/dividend`;\n      marketWatchUrl.value = `${marketWatchIndex}investing/stock/${stock.value}/financials/cash-flow`;\n\n      // 查詢morningStar網址，xnas/xnys/bats\n      async function checkURL(url) {\n        try {\n          // 開發環境使用\n          // const response = await fetch(\"/api\" + url, { method: \"HEAD\" });\n          const response = await fetch(\n            \"https://cors-anywhere.herokuapp.com/https://www.morningstar.com/stocks\" +\n              url,\n            { method: \"HEAD\" }\n          );\n          if (response.ok) {\n            return true;\n          } else {\n            if (response.status == 404) {\n              console.log(`查無此網站:${url}`);\n            } else {\n              throw new Error(`Fetch failed with status ${response.status}`);\n            }\n          }\n        } catch (error) {\n          morningStarUrl.value = `${morningStarIndex}search?query=${stock.value}`;\n          morningStarDividendUrl.value = morningStarUrl.value;\n          errorModal.value = true;\n          console.error(error);\n        }\n      }\n\n      const stockSymbol = stock.value;\n      const xnasValuationUrl = `/xnas/${stockSymbol}/valuation`;\n      const xnysValuationUrl = `/xnys/${stockSymbol}/valuation`;\n      const batsValuationUrl = `/bats/${stockSymbol}/valuation`;\n\n      try {\n        const isXnasValid = await checkURL(xnasValuationUrl);\n        if (isXnasValid) {\n          morningStarUrl.value = `${morningStarIndex}stocks${xnasValuationUrl}`;\n          morningStarDividendUrl.value = `${morningStarIndex}stocks/xnas/${stockSymbol}/dividends`;\n        } else {\n          const isXnysValid = await checkURL(xnysValuationUrl);\n          if (isXnysValid) {\n            morningStarUrl.value = `${morningStarIndex}stocks${xnysValuationUrl}`;\n            morningStarDividendUrl.value = `${morningStarIndex}stocks/xnys/${stockSymbol}/dividends`;\n          } else {\n            const isBatsValid = await checkURL(batsValuationUrl);\n            if (isBatsValid) {\n              morningStarUrl.value = `${morningStarIndex}stocks${batsValuationUrl}`;\n              morningStarDividendUrl.value = `${morningStarIndex}stocks/bats/${stockSymbol}/dividends`;\n            } else {\n              morningStarUrl.value = `${morningStarIndex}search?query=${stockSymbol}`;\n              morningStarDividendUrl.value = morningStarUrl.value;\n            }\n          }\n        }\n      } catch (error) {\n        morningStarUrl.value = `${morningStarIndex}search?query=${stockSymbol}`;\n        morningStarDividendUrl.value = morningStarUrl.value;\n        console.error(error);\n      }\n\n      isEdit.value = true;\n      stock.value = stock.value.toUpperCase();\n      isStockEmpty.value = false;\n      errorMessage.value = \"\";\n    }\n  } catch (error) {\n    morningStarUrl.value = `${morningStarIndex}search?query=${stock.value}`;\n    morningStarDividendUrl.value = morningStarUrl.value;\n    console.log(error);\n  } finally {\n    isLoading.value = false;\n    isDisabled.value = false;\n  }\n}\n\nfunction clear() {\n  stock.value = \"\";\n  stockName.value = \"\";\n  stockPrice.value = \"\";\n  isStockEmpty.value = false;\n  stockExsits.value = true;\n  isCopied.value = false;\n}\n// 編輯\nconst stockField = ref(null);\nfunction edit() {\n  isEdit.value = false;\n  isCopied.value = false;\n  stockName.value = \"\";\n  stockPrice.value = \"\";\n  isCallLimitReached.value = false;\n  reset();\n  nextTick(() => {\n    stockField.value.focus();\n    stockField.value.setSelectionRange(0, stock.value.length);\n  });\n}\n\nfunction isLetterOrDot(e) {\n  // 獲取字元\n  let char = String.fromCharCode(e.keyCode);\n  // 正則表達式，只允許英文字母和點號\n  const regex = /^[a-zA-Z.]*$/;\n  if (regex.test(char)) {\n    return true;\n  } else {\n    // 如果不匹配，不添加到input框\n    e.preventDefault();\n  }\n}\n\n// 初始化剪貼板功能\nconst { toClipboard } = useClipboard();\n\nconst isCopied = ref(false);\nasync function touchCopy() {\n  try {\n    await toClipboard(JSON.stringify(stockPrice.value));\n    isCopied.value = true;\n    setTimeout(() => {\n      isCopied.value = false;\n    }, 2000);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nconst isTotalCopied = ref(false);\nasync function touchCopyTotal() {\n  try {\n    await toClipboard(JSON.stringify(total.value));\n    isTotalCopied.value = true;\n    setTimeout(() => {\n      isTotalCopied.value = false;\n    }, 2000);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// 一鍵開啟網址\nfunction openUrls() {\n  window.open(stockrowUrl.value, \"_blank\");\n  window.open(gurufocusUrl.value, \"_blank\");\n  window.open(incomeUrl.value, \"_blank\");\n  window.open(balanceSheetUrl.value, \"_blank\");\n  window.open(mertricsUrl.value, \"_blank\");\n  window.open(marketWatchUrl.value, \"_blank\");\n  window.open(morningStarUrl.value, \"_blank\");\n}\n\n// 匯出csv\nfunction exportToCSV() {\n  const data = [\n    {\n      評分數據: \"Divdend 股息\",\n      評分標準: \"10年每年持續穩定發股息\",\n      給分標準: 0.5,\n      給分:\n        form.divdend1_1 == \"\" && form.divdend1_2 == \"\"\n          ? null\n          : `${form.divdend1_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"\",\n      評分標準: \"10年股息每年越發越多\",\n      給分標準: 1,\n      給分:\n        form.divdend2_1 == \"\" && form.divdend2_2 == \"\"\n          ? null\n          : `${form.divdend2_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"\",\n      評分標準: \"5年股息成長率>10年股息成長率\",\n      給分標準: 0.5,\n      給分:\n        form.divdend3_1 == \"\" && form.divdend3_2 == \"\"\n          ? null\n          : `${form.divdend3_1 ? \"✓\" : \"✗\"}`,\n    },\n\n    {\n      評分數據: \"EPS 每股盈餘\",\n      評分標準: \"10年穩定\",\n      給分標準: 1,\n      給分:\n        form.eps_1 == \"\" && form.eps_2 == \"\"\n          ? null\n          : `${form.eps_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"Shares 流通股數\",\n      評分標準: \"流通股數10年穩定減少\",\n      給分標準: 1,\n      給分:\n        form.shares_1 == \"\" && form.shares_2 == \"\"\n          ? null\n          : `${form.shares_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"Debt / Equity 負債權益比\",\n      評分標準: \"D/E < 0.5\",\n      給分標準: 1,\n      給分:\n        form.de_1 == \"\" && form.de_2 == \"\" ? null : `${form.de_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"ROE(％) 股東權益率\",\n      評分標準: \"10年 ROE 穩定\",\n      給分標準: 1,\n      給分:\n        form.roe_1 == \"\" && form.roe_2 == \"\"\n          ? null\n          : `${form.roe_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"Book Value Per Share 每股淨值\",\n      評分標準: \"10年穩定成長\",\n      給分標準: 1,\n      給分:\n        form.bvps_1 == \"\" && form.bvps_2 == \"\"\n          ? null\n          : `${form.bvps_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"FCF 自由現金流\",\n      評分標準: \"10年皆為正數且越來越多\",\n      給分標準: 1,\n      給分:\n        form.fcf_1 == \"\" && form.fcf_2 == \"\"\n          ? null\n          : `${form.fcf_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"Net Margin(%) 淨利率\",\n      評分標準: \"10年 Net Margin > 10%\",\n      給分標準: 1,\n      給分:\n        form.net1_1 == \"\" && form.net1_2 == \"\"\n          ? null\n          : `${form.net1_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"\",\n      評分標準: \"10年穩定不衰退\",\n      給分標準: 0.5,\n      給分:\n        form.net2_1 == \"\" && form.net2_2 == \"\"\n          ? null\n          : `${form.net2_1 ? \"✓\" : \"✗\"}`,\n    },\n\n    {\n      評分數據: \"IC 利息保障倍數\",\n      評分標準: \"IC > 10 或 “-”\",\n      給分標準: 1,\n      給分:\n        form.ic1_1 == \"\" && form.ic1_2 == \"\"\n          ? null\n          : `${form.ic1_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"\",\n      評分標準: \"IC > 5\",\n      給分標準: 0.5,\n      給分:\n        form.ic2_1 == \"\" && form.ic2_2 == \"\"\n          ? null\n          : `${form.ic2_1 ? \"✓\" : \"✗\"}`,\n    },\n    { 評分數據: \"\", 評分標準: \"\", 給分標準: \"總分\", 給分: total.value },\n  ];\n  const hasNullScore = data.some((row) => {\n    return row.給分 === null;\n  });\n\n  if (!stock.value) {\n    alert(\"請輸入股票代碼\");\n    return;\n  }\n  if (hasNullScore) {\n    alert(\"請在匯出CSV之前勾選所有評分\");\n    return;\n  }\n  const csv = Papa.unparse(data, {\n    encoding: \"utf-8\",\n    quotes: true,\n    quoteChar: '\"',\n    escapeChar: '\"',\n    delimiter: \",\",\n    header: true,\n    newline: \"\\r\\n\",\n    skipEmptyLines: true,\n  });\n  const blob = new Blob([new Uint8Array([0xef, 0xbb, 0xbf]), csv], {\n    type: \"text/csv;charset=utf-8;\",\n  });\n  const url = window.URL.createObjectURL(blob);\n  const link = document.createElement(\"a\");\n  link.href = url;\n  // Get the current date\n  const currentDate = new Date();\n  const year = currentDate.getFullYear();\n  const month = String(currentDate.getMonth() + 1).padStart(2, \"0\");\n  const day = String(currentDate.getDate()).padStart(2, \"0\");\n  // Construct the filename with the current date\n  const filename = `${year}${month}${day}_${stock.value}_【REITs】評分標準.csv`;\n  link.download = filename;\n  link.click();\n  window.URL.revokeObjectURL(url);\n}\n</script>\n<style>\ntd,\nth {\n  vertical-align: middle;\n}\n/* td a {\n  color: rgba(0, 0, 0, 0.8);\n  color: #4f4f4f;\n  font-family: Lato;\n  font-size: 10pt;\n  font-weight: bold;\n  position: relative;\n  display: block;\n  text-decoration: none;\n  text-transform: uppercase;\n} */\n\n.SMN_effect-15 a:before,\n.SMN_effect-15 a:after {\n  display: inline-block;\n  opacity: 0;\n  -webkit-transition: -webkit-transform 0.3s, opacity 0.2s;\n  -moz-transition: -moz-transform 0.3s, opacity 0.2s;\n  transition: transform 0.3s, opacity 0.2s;\n}\n\n.SMN_effect-15 a:before {\n  margin-right: 10px;\n  content: \"[\";\n  -webkit-transform: translateX(20px);\n  -moz-transform: translateX(20px);\n  transform: translateX(20px);\n}\n\n.SMN_effect-15 a:after {\n  margin-left: 10px;\n  content: \"]\";\n  -webkit-transform: translateX(-20px);\n  -moz-transform: translateX(-20px);\n  transform: translateX(-20px);\n}\n\n.SMN_effect-15 a:hover:before,\n.SMN_effect-15 a:hover:after,\n.SMN_effect-15 a:focus:before,\n.SMN_effect-15 a:focus:after {\n  opacity: 1;\n  -webkit-transform: translateX(0px);\n  -moz-transform: translateX(0px);\n  transform: translateX(0px);\n}\n\n.title {\n  background-color: #f6b3bb;\n}\n\n.table .reits_body tr:first-child th,\n.table .reits_body tr:nth-child(2) th,\n.table .reits_body tr:nth-child(5) th,\n.table .reits_body tr:nth-child(6) th,\n.table .reits_body tr:nth-child(7) th,\n.table .reits_body tr:nth-child(8) th,\n.table .reits_body tr:nth-child(9) th,\n.table .reits_body tr:nth-child(10) th,\n.table .reits_body tr:nth-child(11) th,\n.table .reits_body tr:nth-child(13) th,\n.table .reits_body tr:nth-child(14) th {\n  background-color: #f6b3bb;\n}\n\n.table .reits_body tr:nth-child(2),\n.table .reits_body tr:nth-child(3),\n.table .reits_body tr:nth-child(4),\n.table .reits_body tr:nth-child(5),\n.table .reits_body tr:nth-child(6),\n.table .reits_body tr:nth-child(7),\n.table .reits_body tr:nth-child(8),\n.table .reits_body tr:nth-child(9),\n.table .reits_body tr:nth-child(10),\n.table .reits_body tr:nth-child(11),\n.table .reits_body tr:nth-child(12),\n.table .reits_body tr:nth-child(13),\n.table .reits_body tr:nth-child(14),\n.table .reits_body tr:nth-child(15) {\n  background-color: #eee7e7;\n}\n\n.table .reits_body tr:nth-child(1) td:nth-child(3),\n.table .reits_body tr:nth-child(2) td:nth-child(4),\n.table .reits_body tr:nth-child(3) td:nth-child(3),\n.table .reits_body tr:nth-child(4) td:nth-child(3),\n.table .reits_body tr:nth-child(5) td:nth-child(4),\n.table .reits_body tr:nth-child(6) td:nth-child(4),\n.table .reits_body tr:nth-child(7) td:nth-child(4),\n.table .reits_body tr:nth-child(8) td:nth-child(4),\n.table .reits_body tr:nth-child(9) td:nth-child(4),\n.table .reits_body tr:nth-child(10) td:nth-child(4),\n.table .reits_body tr:nth-child(11) td:nth-child(4),\n.table .reits_body tr:nth-child(12) td:nth-child(3),\n.table .reits_body tr:nth-child(13) td:nth-child(4),\n.table .reits_body tr:nth-child(14) td:nth-child(4),\n.table .reits_body tr:nth-child(15) td:nth-child(3) {\n  background-color: #fff;\n}\n\n.error-message {\n  white-space: nowrap;\n}\n\n.button-group button {\n  margin-top: 10px;\n  margin-right: 10px;\n}\n</style>\n","import script from \"./RealEstateInvestmentTrust.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RealEstateInvestmentTrust.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RealEstateInvestmentTrust.vue?vue&type=style&index=0&id=94c269ba&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <Modal v-model=\"closeableModal\" closeable header=\"注意\">\n    <p>\n      ⛔注意⛔：銀行股本身業務較煩瑣，是一個靠錢賺錢的商業模式，建議新手可以先跳過銀行股，從民生用品股開始著手比較容易，除非你真的非常非常懂銀行業務，不然可以先跳過這個行業\n    </p>\n  </Modal>\n  <Modal v-model=\"errorModal\" closeable header=\"發生錯誤\">\n    <p>\n      MorningStar 無法導向 {{ stock }} 股票代碼的頁面，若要成功導向 {{ stock }} 股票代碼頁面\n      請前往這個網站 <a style=\"text-decoration: none\" target=\"_blank\"\n        href=\"https://cors-anywhere.herokuapp.com/https://www.morningstar.com/\">cors-anywhere</a>，\n      並點擊 Request temporary access to the demo server，點選完之後會跳出 You currently have temporary access to the demo server.，\n      現在查詢 MorningStar 就可以導向 {{ stock }} 股票代碼的頁面了\n    </p>\n  </Modal>\n  <div class=\"container\" v-if=\"!isEdit\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-md-4 col-sm-10\">\n        <div class=\"input-group has-validation\">\n          <input v-model=\"stock\" @keypress=\"isLetterOrDot($event)\" maxlength=\"5\" class=\"form-control\"\n            placeholder=\"請輸入股票代碼，只能輸入英文字母和.\" :class=\"{ 'is-invalid': isStockEmpty || !stockExsits }\"\n            :disabled=\"isDisabled\" @keyup.enter=\"confirm()\" ref=\"stockField\" />\n          <div v-if=\"isStockEmpty || !stockExsits\" class=\"invalid-feedback\">\n            {{ errorMessage }}\n          </div>\n        </div>\n        <div class=\"input-group-append button-group\">\n          <button class=\"btn btn-primary\" @click=\"confirm\" :disabled=\"isDisabled\">\n            <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm\" style=\"margin-right: 10px\" />\n            <font-awesome-icon icon=\"fa-magnifying-glass\" />\n            查詢\n          </button>\n          <button class=\"btn btn-secondary\" @click=\"clear\" :disabled=\"isDisabled\">\n            <font-awesome-icon icon=\"fa-eraser\" />\n            清除\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"container\" v-else>\n    <div class=\"row justify-content-center\">\n      <div class=\"col-md-4 col-sm-8\">\n        <div class=\"form-group\">\n          <label for=\"stockLabel\">分析股票代碼</label>\n          <input id=\"stockLabel\" class=\"form-control\" :value=\"stock\" disabled />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"nameLabel\">股票名稱</label>\n          <input id=\"nameLabel\" class=\"form-control\" :value=\"stockName\" disabled />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"priceLabel\">現在股價</label>\n          <div class=\"input-group\">\n            <input id=\"priceLabel\" type=\"number\" class=\"form-control\" :class=\"{ 'is-invalid': isCallLimitReached }\"\n              :value=\"stockPrice\" :disabled=\"!isCallLimitReached\" />\n            <!-- <span class=\"input-group-text\">{{ currency }}</span> -->\n            <div v-if=\"isCallLimitReached\" class=\"invalid-feedback\">\n              {{ stockPriceErrorMessage }}\n            </div>\n            <div v-else class=\"input-groutruep-append\" style=\"padding: 0 0.5rem\">\n              <button class=\"btn\" :class=\"{\n                  'btn-outline-secondary': !isCopied,\n                  'btn-outline-success': isCopied,\n                }\" type=\"button\" @click=\"touchCopy()\">\n                <font-awesome-icon v-if=\"isCopied\" icon=\"fa-paste\" />\n                <font-awesome-icon v-else icon=\"fa-clipboard\" />\n                {{ isCopied ? \"已複製\" : \"複製股價\" }}\n              </button>\n            </div>\n          </div>\n        </div>\n        <div class=\"text-center button-group\">\n          <button class=\"btn btn-primary\" @click=\"edit\">\n            <font-awesome-icon icon=\"fa-edit\" />\n            編輯\n          </button>\n          <button type=\"button\" class=\"btn btn-success\" @click=\"exportToCSV()\">\n            <font-awesome-icon icon=\"fa-file-csv\" />\n            匯出csv\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <table class=\"table\">\n    <thead>\n      <tr>\n        <th class=\"table-dark\">【銀行股】評分標準</th>\n        <th>\n          <button id=\"modalButton\" @click=\"closeableModal = true\" type=\"button\" class=\"btn btn-warning mb-2\">\n            <font-awesome-icon icon=\"fa-warning\" />\n            注意事項\n          </button>\n        </th>\n        <th></th>\n        <th>\n          <button class=\"btn btn-sm\" :class=\"{\n              'btn-outline-danger': !isNoDivdend,\n              'btn-outline-dark': isNoDivdend,\n            }\" @click=\"noDivdends()\">\n            <font-awesome-icon v-show=\"!isNoDivdend\" icon=\"fa-xmark\" />\n            {{ isNoDivdend ? \"股息不給分\" : \"不發股息\" }}\n          </button>\n        </th>\n        <th>\n          <button class=\"btn btn-outline-success btn-sm\" @click=\"openUrls()\" :disabled=\"isDisabled\">\n            <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm\" style=\"margin-right: 10px\" />\n            <font-awesome-icon icon=\"fa-window-restore\" />\n            一鍵開啟財報網址\n          </button>\n        </th>\n      </tr>\n    </thead>\n    <tbody class=\"b_body\">\n      <tr class=\"title\">\n        <th>評分數據</th>\n        <th>評分標準</th>\n        <th>給分標準</th>\n        <th>給分</th>\n        <th>網址</th>\n      </tr>\n      <tr>\n        <th rowspan=\"3\">Divdend 股息</th>\n        <td>10年每年持續穩定發股息</td>\n        <td>0.5</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend1_1\" @click=\"divdend1GetPoint()\" type=\"checkbox\"\n              id=\"divdend1_1\" />\n            <label class=\"form-check-label\" for=\"divdend1_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend1_2\" type=\"checkbox\" id=\"divdend1_2\"\n              @click=\"divdend1NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"divdend1_2\">不給分</label>\n          </div>\n        </td>\n        <td rowspan=\"2\" class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              stockrow\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"stockrowUrl\" target=\"_blank\">stockrow</a>\n            <a v-show=\"isShowDividendUrl\" :href=\"morningStarDividendUrl\" target=\"_blank\">morningstar Dividends</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>10年股息每年越發越多</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend2_1\" @click=\"divdend2GetPoint()\" type=\"checkbox\"\n              id=\"divdend2_1\" />\n            <label class=\"form-check-label\" for=\"divdend2_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend2_2\" type=\"checkbox\" id=\"divdend2_2\"\n              @click=\"divdend2NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"divdend2_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>5年股息成長率 > 10年股息成長率</td>\n        <td>0.5</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend3_1\" @click=\"divdend3GetPoint()\" type=\"checkbox\"\n              id=\"divdend3_1\" />\n            <label class=\"form-check-label\" for=\"divdend3_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.divdend3_2\" type=\"checkbox\" id=\"divdend3_2\"\n              @click=\"divdend3NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"divdend3_2\">不給分</label>\n          </div>\n        </td>\n        <td class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              gurufocus\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"gurufocusUrl\" target=\"_blank\">gurufocus</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th scope=\"row\">EPS (Diluted) 每股盈餘</th>\n        <td>10年穩定成長</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.eps_1\" @click=\"epsGetPoint()\" type=\"checkbox\" id=\"eps_1\" />\n            <label class=\"form-check-label\" for=\"eps_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.eps_2\" type=\"checkbox\" id=\"eps_2\" @click=\"epsNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"eps_2\">不給分</label>\n          </div>\n        </td>\n        <td class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              stockrow Income\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"incomeUrl\" target=\"_blank\">stockrow Income</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th scope=\"row\">Shares (Common) 流通股數</th>\n        <td>流通股數10年穩定減少</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.shares_1\" @click=\"sharesGetPoint()\" type=\"checkbox\"\n              id=\"shares_1\" />\n            <label class=\"form-check-label\" for=\"shares_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.shares_2\" type=\"checkbox\" id=\"shares_2\"\n              @click=\"sharesNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"shares_2\">不給分</label>\n          </div>\n        </td>\n        <td class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              stockrow Balance Sheet\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"balanceSheetUrl\" target=\"_blank\">stockrow Balance Sheet</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th style=\"color: red\" scope=\"row\">ROA(％) 資產報酬率</th>\n        <td style=\"color: red\">10年 ROA > 1.2</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.roa_1\" @click=\"roaGetPoint()\" type=\"checkbox\" id=\"roa_1\" />\n            <label class=\"form-check-label\" for=\"roa_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.roa_2\" type=\"checkbox\" id=\"roa_2\" @click=\"roaNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"roa_2\">不給分</label>\n          </div>\n        </td>\n        <td rowspan=\"3\" class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              stockrow Metrics\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"mertricsUrl\" target=\"_blank\">stockrow Metrics</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th scope=\"row\">Book Value Per Share 每股淨值</th>\n        <td>10年穩定成長</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.bvps_1\" @click=\"bvpsGetPoint()\" type=\"checkbox\" id=\"bvps_1\" />\n            <label class=\"form-check-label\" for=\"bvps_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.bvps_2\" type=\"checkbox\" id=\"bvps_2\"\n              @click=\"bvpsNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"bvps_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th scope=\"row\">Free Cash Flow 自由現金流</th>\n        <td>10年皆為正數</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.fcf_1\" @click=\"fcfGetPoint()\" type=\"checkbox\" id=\"fcf_1\" />\n            <label class=\"form-check-label\" for=\"fcf_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.fcf_2\" type=\"checkbox\" id=\"fcf_2\" @click=\"fcfNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"fcf_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th rowspan=\"2\">IC 利息保障倍數</th>\n        <td>IC > 10 或 “-”</td>\n        <td>1</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.ic1_1\" @click=\"ic1GetPoint()\" type=\"checkbox\" id=\"ic1_1\" />\n            <label class=\"form-check-label\" for=\"ic1_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.ic1_2\" type=\"checkbox\" id=\"ic1_2\" @click=\"ic1NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"ic1_2\">不給分</label>\n          </div>\n        </td>\n        <td rowspan=\"2\" class=\"SMN_effect-15\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              Morningstar Key Ratio Data\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"morningStarUrl\" target=\"_blank\">Morningstar Key Ratio Data</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>IC > 5</td>\n        <td>0.5</td>\n        <td>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.ic2_1\" @click=\"ic2GetPoint()\" type=\"checkbox\" id=\"ic2_1\" />\n            <label class=\"form-check-label\" for=\"ic2_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.ic2_2\" type=\"checkbox\" id=\"ic2_2\" @click=\"ic2NotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"ic2_2\">不給分</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th rowspan=\"2\" style=\"color: red\" scope=\"row\">\n          Interest Income Ratio 利息收入比\n        </th>\n        <td>\n          <div style=\"color: red\">\n            <div class=\"frac\">\n              <span>利息收入(Net Interest Income)</span>\n              <span class=\"bottom\">總收入(Total Revenue)</span>\n            </div>\n            > 50%\n          </div>\n        </td>\n        <td>1</td>\n        <td rowspan=\"2\">\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.iir_1\" @click=\"iirGetPoint()\" type=\"checkbox\" id=\"iir_1\" />\n            <label class=\"form-check-label\" for=\"iir_1\">給分</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input class=\"form-check-input\" v-model=\"form.iir_2\" type=\"checkbox\" id=\"iir_2\" @click=\"iirNotGetPoint()\" />\n            <label class=\"form-check-label\" for=\"iir_2\">不給分</label>\n          </div>\n          <div class=\"calculate\">\n            <button @click=\"calculate()\" type=\"button\" class=\"btn btn-success\">\n              <font-awesome-icon icon=\"fa-divide\" />\n              計算\n            </button>\n          </div>\n        </td>\n        <td class=\"SMN_effect-15\" rowspan=\"2\">\n          <div v-if=\"isLoading\">\n            <span class=\"disabled\">\n              <span class=\"spinner-grow spinner-grow-sm\" style=\"margin-right: 3px\" />\n              Morningstar Financials\n            </span>\n          </div>\n          <div v-else>\n            <a :href=\"morningStarFinancialsUrl\" target=\"_blank\">Morningstar Financials</a>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <div>\n            <div class=\"frac\">\n              <div class=\"input-group mb-3 input-group-sm\">\n                <input v-model=\"netInterestIncome\" type=\"number\" class=\"form-control input-text\"\n                  placeholder=\"Net Interest Income\" @keyup.enter=\"calculate()\" aria-describedby=\"basic-addon1\" />\n              </div>\n              <div class=\"bottom\"></div>\n              <div class=\"input-group mb-3 input-group-sm\">\n                <input v-model=\"totalRevenue\" type=\"number\" class=\"form-control input-text\" placeholder=\"Total Revenue\"\n                  @keyup.enter=\"calculate()\" aria-describedby=\"basic-addon1\" />\n              </div>\n            </div>\n            =\n          </div>\n        </td>\n        <td>\n          {{ ratio }}\n        </td>\n      </tr>\n      <tr>\n        <td></td>\n        <td style=\"background-color: #f6b3bb\">總分</td>\n        <td style=\"background-color: #f6b3bb\">{{ total }}</td>\n        <td>\n          <button class=\"btn btn-sm\" :class=\"{\n              'btn-outline-dark': !isTotalCopied,\n              'btn-success': isTotalCopied,\n            }\" type=\"button\" @click=\"touchCopyTotal()\" style=\"margin-right: 7px\">\n            <font-awesome-icon v-if=\"isTotalCopied\" icon=\"fa-paste\" />\n            <font-awesome-icon v-else icon=\"fa-clipboard\" />\n            {{ isTotalCopied ? \"已複製\" : \"複製總分\" }}\n          </button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"reset()\">\n            <font-awesome-icon icon=\"fa-rotate-left\" />\n            Reset\n          </button>\n        </td>\n        <td>\n          <button type=\"button\" class=\"btn btn-success\" @click=\"exportToCSV()\">\n            <font-awesome-icon icon=\"fa-file-csv\" />\n            匯出csv\n          </button>\n        </td>\n      </tr>\n      <tr>\n        <td />\n        <td />\n        <td />\n        <td />\n        <td />\n      </tr>\n    </tbody>\n  </table>\n</template>\n<script setup>\nimport { reactive, ref } from \"@vue/reactivity\";\nimport { nextTick } from \"vue\";\nimport { watch } from \"@vue/runtime-core\";\nimport { useVuelidate } from \"@vuelidate/core\";\nimport { required } from \"@vuelidate/validators\";\nimport useClipboard from \"vue-clipboard3\";\nimport Modal from \"./Modal.vue\";\nimport Papa from \"papaparse\";\n\nconst closeableModal = ref(false);\nconst errorModal = ref(false);\n\nlet form = reactive({\n  divdend1_1: \"\",\n  divdend1_2: \"\",\n  divdend2_1: \"\",\n  divdend2_2: \"\",\n  divdend3_1: \"\",\n  divdend3_2: \"\",\n  eps_1: \"\",\n  eps_2: \"\",\n  shares_1: \"\",\n  shares_2: \"\",\n  roa_1: \"\",\n  roa_2: \"\",\n  bvps_1: \"\",\n  bvps_2: \"\",\n  fcf_1: \"\",\n  fcf_2: \"\",\n  ic1_1: \"\",\n  ic1_2: \"\",\n  ic2_1: \"\",\n  ic2_2: \"\",\n  iir_1: \"\",\n  iir_2: \"\",\n  total: 0,\n});\n\nlet divdend1Points = ref(0);\nlet divdend2Points = ref(0);\nlet divdend3Points = ref(0);\nlet epsPoints = ref(0);\nlet sharesPoints = ref(0);\nlet roaPoints = ref(0);\nlet bvpsPoints = ref(0);\nlet fcfPoints = ref(0);\nlet ic1Points = ref(0);\nlet ic2Points = ref(0);\nlet iirPoints = ref(0);\nlet total = ref(0);\n\n// 利息收入\nconst netInterestIncome = ref();\nconst totalRevenue = ref();\nconst ratio = ref(\"\");\n\n// Divdend\nconst isNoDivdend = ref(false);\nfunction noDivdends() {\n  divdend1Points.value = 0;\n  divdend2Points.value = 0;\n  divdend3Points.value = 0;\n\n  form.divdend1_1 = false;\n  form.divdend2_1 = false;\n  form.divdend3_1 = false;\n\n  if (!form.divdend1_2 || !form.divdend2_2 || !form.divdend3_2) {\n    form.divdend1_2 = true;\n    form.divdend2_2 = true;\n    form.divdend3_2 = true;\n    isNoDivdend.value = true;\n  } else {\n    form.divdend1_2 = false;\n    form.divdend2_2 = false;\n    form.divdend3_2 = false;\n    isNoDivdend.value = false;\n  }\n}\n\nlet isShowDividendUrl = ref(false);\nwatch([() => form.divdend1_1, () => form.divdend2_1], (newValues) => {\n  if (newValues.some((value) => value)) {\n    isNoDivdend.value = false;\n    isShowDividendUrl.value = true;\n  } else {\n    isShowDividendUrl.value = false;\n  }\n});\n\nwatch(\n  [() => form.divdend1_1, () => form.divdend2_1, () => form.divdend3_1],\n  (newValues) => {\n    console.log(newValues);\n    if (newValues.every((value) => value === false)) {\n      isNoDivdend.value = true;\n      isShowDividendUrl.value = false;\n    }\n  }\n);\n\nwatch(\n  () => form.divdend1_1,\n  (newValue) => {\n    if (newValue) {\n      form.divdend2_2 = true;\n      form.divdend2_1 = false;\n      divdend2Points.value = 0;\n    }\n  }\n);\n\nwatch(\n  () => form.divdend2_1,\n  (newValue) => {\n    if (newValue) {\n      form.divdend1_2 = true;\n      form.divdend1_1 = false;\n      divdend1Points.value = 0;\n    }\n  }\n);\n\n// IC\nwatch(\n  () => form.ic1_1,\n  (newValue) => {\n    if (newValue) {\n      form.ic2_2 = true;\n      form.ic2_1 = false;\n      ic2Points.value = 0;\n    }\n  }\n);\nwatch(\n  () => form.ic2_1,\n  (newValue) => {\n    if (newValue) {\n      form.ic1_2 = true;\n      form.ic1_1 = false;\n      ic1Points.value = 0;\n    }\n  }\n);\n\n// 利息收入\nfunction calculate() {\n  const referenceValue = 50;\n  const value = ((netInterestIncome.value / totalRevenue.value) * 100).toFixed(\n    2\n  );\n  ratio.value = `${value} %`;\n  if (value > referenceValue) {\n    iirPoints.value = 1;\n    form.iir_1 = true;\n    form.iir_2 = false;\n  } else {\n    iirPoints.value = 0;\n    form.iir_1 = false;\n    form.iir_2 = true;\n  }\n}\n\n// Divdend\n// #region\n// 10年每年持續穩定發股息\nfunction divdend1GetPoint() {\n  form.divdend1_2 = false;\n  divdend1Points.value = 0.5;\n  if (form.divdend1_1 == true) {\n    divdend1Points.value = 0;\n  }\n}\n\nfunction divdend1NotGetPoint() {\n  form.divdend1_1 = false;\n  divdend1Points.value = 0;\n}\n// 10年股息每年越發越多\nfunction divdend2GetPoint() {\n  form.divdend2_2 = false;\n  divdend2Points.value = 1;\n  if (form.divdend2_1 == true) {\n    divdend2Points.value = 0;\n  }\n}\n\nfunction divdend2NotGetPoint() {\n  form.divdend2_1 = false;\n  divdend2Points.value = 0;\n}\n\nfunction divdend3GetPoint() {\n  form.divdend3_2 = false;\n  divdend3Points.value = 0.5;\n  if (form.divdend3_1 == true) {\n    divdend3Points.value = 0;\n  }\n}\n\nfunction divdend3NotGetPoint() {\n  form.divdend3_1 = false;\n  divdend3Points.value = 0;\n}\n// #endregion\n\n// EPS\n// #region\nfunction epsGetPoint() {\n  form.eps_2 = false;\n  epsPoints.value = 1;\n  if (form.eps_1 == true) {\n    epsPoints.value = 0;\n  }\n}\n\nfunction epsNotGetPoint() {\n  form.eps_1 = false;\n  epsPoints.value = 0;\n}\n// #endregion\n\n// Shares\n// #region\nfunction sharesGetPoint() {\n  form.shares_2 = false;\n  sharesPoints.value = 1;\n  if (form.shares_1 == true) {\n    sharesPoints.value = 0;\n  }\n}\n\nfunction sharesNotGetPoint() {\n  form.shares_1 = false;\n  sharesPoints.value = 0;\n}\n// #endregion\n\n// ROA\n// #region\nfunction roaGetPoint() {\n  form.roa_2 = false;\n  roaPoints.value = 1;\n  if (form.roa_1 == true) {\n    roaPoints.value = 0;\n  }\n}\n\nfunction roaNotGetPoint() {\n  form.roa_1 = false;\n  roaPoints.value = 0;\n}\n// #endregion\n\n// BVPS\n// #region\nfunction bvpsGetPoint() {\n  form.bvps_2 = false;\n  bvpsPoints.value = 1;\n  if (form.bvps_1 == true) {\n    bvpsPoints.value = 0;\n  }\n}\n\nfunction bvpsNotGetPoint() {\n  form.bvps_1 = false;\n  bvpsPoints.value = 0;\n}\n// #endregion\n\n// FCF\n// #region\nfunction fcfGetPoint() {\n  form.fcf_2 = false;\n  fcfPoints.value = 1;\n  if (form.fcf_1 == true) {\n    fcfPoints.value = 0;\n  }\n}\n\nfunction fcfNotGetPoint() {\n  form.fcf_1 = false;\n  fcfPoints.value = 0;\n}\n// #endregion\n\n// IC利息保障倍數\n// #region\nfunction ic1GetPoint() {\n  form.ic1_2 = false;\n  ic1Points.value = 1;\n  if (form.ic1_1 == true) {\n    ic1Points.value = 0;\n  }\n}\n\nfunction ic1NotGetPoint() {\n  form.ic1_1 = false;\n  ic1Points.value = 0;\n}\n\nfunction ic2GetPoint() {\n  form.ic2_2 = false;\n  ic2Points.value = 0.5;\n  if (form.ic2_1 == true) {\n    ic2Points.value = 0;\n  }\n}\n\nfunction ic2NotGetPoint() {\n  form.ic2_1 = false;\n  ic2Points.value = 0;\n}\n// #endregion\n\n// IIR\n// #region\nfunction iirGetPoint() {\n  form.iir_2 = false;\n  iirPoints.value = 1;\n  if (form.iir_1 == true) {\n    iirPoints.value = 0;\n  }\n}\n\nfunction iirNotGetPoint() {\n  form.iir_1 = false;\n  iirPoints.value = 0;\n}\n// #endregion\n\nwatch(form, () => {\n  count();\n});\n\nfunction count() {\n  total.value =\n    divdend1Points.value +\n    divdend2Points.value +\n    divdend3Points.value +\n    epsPoints.value +\n    sharesPoints.value +\n    roaPoints.value +\n    bvpsPoints.value +\n    fcfPoints.value +\n    ic1Points.value +\n    ic2Points.value +\n    iirPoints.value;\n}\n\nfunction reset() {\n  form.divdend1_1 = \"\";\n  form.divdend1_2 = \"\";\n  form.divdend2_1 = \"\";\n  form.divdend2_2 = \"\";\n  form.divdend3_1 = \"\";\n  form.divdend3_2 = \"\";\n  form.eps_1 = \"\";\n  form.eps_2 = \"\";\n  form.shares_1 = \"\";\n  form.shares_2 = \"\";\n  form.roa_1 = \"\";\n  form.roa_2 = \"\";\n  form.bvps_1 = \"\";\n  form.bvps_2 = \"\";\n  form.fcf_1 = \"\";\n  form.fcf_2 = \"\";\n  form.ic1_1 = \"\";\n  form.ic1_2 = \"\";\n  form.ic2_1 = \"\";\n  form.ic2_2 = \"\";\n  form.iir_1 = \"\";\n  form.iir_2 = \"\";\n  divdend1Points.value = 0;\n  divdend2Points.value = 0;\n  divdend3Points.value = 0;\n  epsPoints.value = 0;\n  sharesPoints.value = 0;\n  roaPoints.value = 0;\n  bvpsPoints.value = 0;\n  fcfPoints.value = 0;\n  ic1Points.value = 0;\n  ic2Points.value = 0;\n  iirPoints.value = 0;\n  isNoDivdend.value = false;\n  netInterestIncome.value = \"\";\n  totalRevenue.value = \"\";\n  ratio.value = \"\";\n}\n\n// =======================================================================\n// url\nconst stockRowIndex = \"https://stockrow.com/\";\nconst gurufocusIndex = \"https://www.gurufocus.com/\";\nconst morningStarIndex = \"https://www.morningstar.com/\";\nconst stockrowUrl = ref(stockRowIndex);\nconst incomeUrl = ref(stockRowIndex);\nconst balanceSheetUrl = ref(stockRowIndex);\nconst mertricsUrl = ref(stockRowIndex);\nconst gurufocusUrl = ref(gurufocusIndex);\nconst morningStarUrl = ref(morningStarIndex);\nconst morningStarDividendUrl = ref(morningStarIndex);\nconst morningStarFinancialsUrl = ref(morningStarIndex);\n// -------------------------------------------\n// stock api\nconst AlphaVantageNameAPI = (stockCode) => {\n  return `https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${stockCode}&apikey=8FYMDC697PL6LEEL`;\n};\nconst AlphaVantageGlobalAPI = (stockCode) => {\n  return `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${stockCode}&apikey=LP46XK632CAP8PVK`;\n};\nconst IEXCloudAPI = (stockCode) => {\n  return `https://api.iex.cloud/v1/data/core/quote/${stockCode}?token=pk_a1bf9b4aef2045e2bcff3f6eb3bff015`;\n};\nconst PolygonAPI = (stockCode) => {\n  return `https://api.polygon.io/v1/last_quote/stocks/${stockTicker}?apiKey=FwKVpAWvGdWPLQSgeDMnQC3aaxzvGtDg`;\n};\n// =======================================================================\n// 股票代碼\nconst stock = ref(\"\");\n// 股票名稱\nconst stockName = ref(\"\");\n// 股票價格\nconst stockPrice = ref(\"\");\n// 股票貨幣\nconst currency = ref(\"\");\n\n// 是否切換編輯\nconst isEdit = ref(false);\n// 股票代碼是否未填\nconst isStockEmpty = ref(false);\n// 股票代碼是否存在\nconst stockExsits = ref(true);\n// 查詢次數是否達上限\nconst isCallLimitReached = ref(false);\n// 是否loading\nconst isLoading = ref(false);\nconst isDisabled = ref(false);\n// 錯誤訊息\nconst errorMessage = ref(\"\");\nconst stockPriceErrorMessage = ref(\"\");\n// 輸入框規則\nconst rule = {\n  stock: { required },\n};\nconst v$ = useVuelidate(rule, { stock });\n\nasync function confirm() {\n  if (stock.value === \"\") {\n    isStockEmpty.value = true;\n    errorMessage.value = \"請輸入股票代碼\";\n    return;\n  }\n\n  if (v$.value.$invalid) {\n    isStockEmpty.value = false;\n    errorMessage.value = \"\";\n    return;\n  }\n\n  let stockCode = stock.value;\n\n  try {\n    isLoading.value = true;\n    isDisabled.value = true;\n\n    // 呼叫查詢股票api\n    // ======================================\n    // IEXCloudAPI\n    // ======================================\n    // #region\n    // const IEXResponse = await fetch(IEXCloudAPI(stockCode));\n    // const IEXData = await IEXResponse.json();\n    // const data = IEXData[0];\n\n    // if (!data) {\n    //   // 處理data為空的情况\n    //   stockExsits.value = false;\n    //   errorMessage.value = \"查無股票代碼\";\n    // } else {\n    //   stockExsits.value = true;\n    //   stockName.value = data.companyName;\n    //   stockPrice.value = data.latestPrice;\n    //   currency.value = `${data.currency}`;\n    // }\n    // #endregion\n    // ======================================\n    // IEXCloudAPI\n    // ======================================\n    // #region\n    const AlphaVantageNameResponse = await fetch(\n      AlphaVantageNameAPI(stockCode)\n    );\n    const nameData = await AlphaVantageNameResponse.json();\n\n    if (nameData.bestMatches && nameData.bestMatches.length > 0) {\n      stockExsits.value = true;\n      const matches = nameData.bestMatches;\n      const name = matches[0][\"2. name\"];\n      stockName.value = name;\n    } else {\n      // 處理data為空的情况\n      stockExsits.value = false;\n      errorMessage.value = \"查無股票代碼\";\n    }\n    // #endregion\n\n    if (stockExsits.value) {\n      // 查詢股價\n      const GlobalResponse = await fetch(AlphaVantageGlobalAPI(stockCode));\n      const GlobalData = await GlobalResponse.json();\n\n      // 如果有Note代表一分鐘查詢超過五次了\n      if (GlobalData[\"Note\"]) {\n        isCallLimitReached.value = true;\n        stockPrice.value = \"\";\n        stockPriceErrorMessage.value = \"每分鐘最多查詢5次，請稍後再試\";\n      }\n\n      // 取出股票的價格\n      if (GlobalData[\"Global Quote\"]) {\n        const price = GlobalData[\"Global Quote\"][\"05. price\"];\n        stockPrice.value = Number.parseFloat(price).toFixed(2);\n      }\n\n      // 修改url\n      stockrowUrl.value = stockRowIndex + stock.value;\n      incomeUrl.value = stockrowUrl.value + \"/financials/income/annual\";\n      balanceSheetUrl.value = stockrowUrl.value + \"/financials/balance/annual\";\n      mertricsUrl.value = stockrowUrl.value + \"/financials/metrics/annual\";\n      gurufocusUrl.value = `https://www.gurufocus.com/stock/${stock.value}/dividend`;\n\n      // 查詢morningStar網址，xnas/xnys/bats\n      async function checkURL(url) {\n        try {\n          // 開發環境使用\n          // const response = await fetch(\"/api\" + url, { method: \"HEAD\" });\n          const response = await fetch(\n            \"https://cors-anywhere.herokuapp.com/https://www.morningstar.com/stocks\" +\n              url,\n            { method: \"HEAD\" }\n          );\n          if (response.ok) {\n            return true;\n          } else {\n            if (response.status == 404) {\n              console.log(`查無此網站:${url}`);\n            } else {\n              throw new Error(`Fetch failed with status ${response.status}`);\n            }\n          }\n        } catch (error) {\n          morningStarUrl.value = `https://www.morningstar.com/search?query=${stock.value}`;\n          morningStarFinancialsUrl.value = morningStarUrl.value;\n          morningStarDividendUrl.value = morningStarUrl.value;\n          errorModal.value = true;\n          console.error(error);\n        }\n      }\n\n      const stockSymbol = stock.value;\n      const xnasValuationUrl = `/xnas/${stockSymbol}/valuation`;\n      const xnysValuationUrl = `/xnys/${stockSymbol}/valuation`;\n      const batsValuationUrl = `/bats/${stockSymbol}/valuation`;\n\n      try {\n        const isXnasValid = await checkURL(xnasValuationUrl);\n        if (isXnasValid) {\n          morningStarUrl.value = `${morningStarIndex}stocks/xnas/${stockSymbol}/valuation`;\n          morningStarFinancialsUrl.value = `${morningStarIndex}stocks/xnas/${stockSymbol}/financials`;\n          morningStarDividendUrl.value = `${morningStarIndex}stocks/xnas/${stockSymbol}/dividends`;\n        } else {\n          const isXnysValid = await checkURL(xnysValuationUrl);\n          if (isXnysValid) {\n            morningStarUrl.value = `${morningStarIndex}stocks/xnys/${stockSymbol}/valuation`;\n            morningStarFinancialsUrl.value = `${morningStarIndex}stocks/xnys/${stockSymbol}/financials`;\n            morningStarDividendUrl.value = `${morningStarIndex}stocks/xnys/${stockSymbol}/dividends`;\n          } else {\n            const isBatsValid = await checkURL(batsValuationUrl);\n            if (isBatsValid) {\n              morningStarUrl.value = `${morningStarIndex}stocks/bats/${stockSymbol}/valuation`;\n              morningStarFinancialsUrl.value = `${morningStarIndex}stocks/bats/${stockSymbol}/financials`;\n              morningStarDividendUrl.value = `${morningStarIndex}stocks/bats/${stockSymbol}/dividends`;\n            } else {\n              morningStarUrl.value = `${morningStarIndex}search?query=${stockSymbol}`;\n              morningStarDividendUrl.value = morningStarUrl.value;\n              morningStarFinancialsUrl.value = morningStarUrl.value;\n            }\n          }\n        }\n      } catch (error) {\n        morningStarUrl.value = `${morningStarIndex}search?query=${stockSymbol}`;\n        morningStarFinancialsUrl.value = morningStarUrl.value;\n        morningStarDividendUrl.value = morningStarUrl.value;\n        console.error(error);\n      }\n\n      isEdit.value = true;\n      stock.value = stock.value.toUpperCase();\n      isStockEmpty.value = false;\n      errorMessage.value = \"\";\n    }\n  } catch (error) {\n    morningStarUrl.value = `${morningStarIndex}search?query=${stock.value}`;\n    morningStarFinancialsUrl.value = morningStarUrl.value;\n    morningStarDividendUrl.value = morningStarUrl.value;\n    console.log(error);\n  } finally {\n    isLoading.value = false;\n    isDisabled.value = false;\n  }\n}\n\nfunction clear() {\n  stock.value = \"\";\n  stockName.value = \"\";\n  stockPrice.value = \"\";\n  isStockEmpty.value = false;\n  stockExsits.value = true;\n  isCopied.value = false;\n}\n// 編輯\nconst stockField = ref(null);\nfunction edit() {\n  isEdit.value = false;\n  isCopied.value = false;\n  stockName.value = \"\";\n  stockPrice.value = \"\";\n  isCallLimitReached.value = false;\n  reset();\n  nextTick(() => {\n    stockField.value.focus();\n    stockField.value.setSelectionRange(0, stock.value.length);\n  });\n}\n\nfunction isLetterOrDot(e) {\n  // 獲取字元\n  let char = String.fromCharCode(e.keyCode);\n  // 正則表達式，只允許英文字母和點號\n  const regex = /^[a-zA-Z.]*$/;\n  if (regex.test(char)) {\n    return true;\n  } else {\n    // 如果不匹配，不添加到input框\n    e.preventDefault();\n  }\n}\n\n// 初始化剪貼板功能\nconst { toClipboard } = useClipboard();\n\nconst isCopied = ref(false);\nasync function touchCopy() {\n  try {\n    await toClipboard(JSON.stringify(stockPrice.value));\n    isCopied.value = true;\n    setTimeout(() => {\n      isCopied.value = false;\n    }, 2000);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nconst isTotalCopied = ref(false);\nasync function touchCopyTotal() {\n  try {\n    await toClipboard(JSON.stringify(total.value));\n    isTotalCopied.value = true;\n    setTimeout(() => {\n      isTotalCopied.value = false;\n    }, 2000);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// 一鍵開啟網址\nfunction openUrls() {\n  window.open(stockrowUrl.value, \"_blank\");\n  window.open(gurufocusUrl.value, \"_blank\");\n  window.open(incomeUrl.value, \"_blank\");\n  window.open(balanceSheetUrl.value, \"_blank\");\n  window.open(mertricsUrl.value, \"_blank\");\n  window.open(morningStarUrl.value, \"_blank\");\n  window.open(morningStarFinancialsUrl.value, \"_blank\");\n}\n\n// 匯出csv\nfunction exportToCSV() {\n  const data = [\n    {\n      評分數據: \"Divdend 股息\",\n      評分標準: \"10年每年持續穩定發股息\",\n      給分標準: 0.5,\n      給分:\n        form.divdend1_1 == \"\" && form.divdend1_2 == \"\"\n          ? null\n          : `${form.divdend1_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"\",\n      評分標準: \"10年股息每年越發越多\",\n      給分標準: 1,\n      給分:\n        form.divdend2_1 == \"\" && form.divdend2_2 == \"\"\n          ? null\n          : `${form.divdend2_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"\",\n      評分標準: \"5年股息成長率>10年股息成長率\",\n      給分標準: 0.5,\n      給分:\n        form.divdend3_1 == \"\" && form.divdend3_2 == \"\"\n          ? null\n          : `${form.divdend3_1 ? \"✓\" : \"✗\"}`,\n    },\n\n    {\n      評分數據: \"EPS 每股盈餘\",\n      評分標準: \"10年穩定成長\",\n      給分標準: 1,\n      給分:\n        form.eps_1 == \"\" && form.eps_2 == \"\"\n          ? null\n          : `${form.eps_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"Shares 流通股數\",\n      評分標準: \"流通股數10年穩定減少\",\n      給分標準: 1,\n      給分:\n        form.shares_1 == \"\" && form.shares_2 == \"\"\n          ? null\n          : `${form.shares_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"ROA(％) 資產報酬率\",\n      評分標準: \"10年 ROA > 1.2\",\n      給分標準: 1,\n      給分:\n        form.roa_1 == \"\" && form.roa_2 == \"\"\n          ? null\n          : `${form.roa_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"Book Value Per Share 每股淨值\",\n      評分標準: \"10年穩定成長\",\n      給分標準: 1,\n      給分:\n        form.bvps_1 == \"\" && form.bvps_2 == \"\"\n          ? null\n          : `${form.bvps_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"FCF 自由現金流\",\n      評分標準: \"10年皆為正數\",\n      給分標準: 1,\n      給分:\n        form.fcf_1 == \"\" && form.fcf_2 == \"\"\n          ? null\n          : `${form.fcf_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"IC 利息保障倍數\",\n      評分標準: \"IC > 10 或 “-”\",\n      給分標準: 1,\n      給分:\n        form.ic1_1 == \"\" && form.ic1_2 == \"\"\n          ? null\n          : `${form.ic1_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"\",\n      評分標準: \"IC > 5\",\n      給分標準: 0.5,\n      給分:\n        form.ic2_1 == \"\" && form.ic2_2 == \"\"\n          ? null\n          : `${form.ic2_1 ? \"✓\" : \"✗\"}`,\n    },\n    {\n      評分數據: \"Interest Income Ratio 利息收入比\",\n      評分標準: \"利息收入(Net Interest Income)／總收入(Total Revenue) ＞ 50%\",\n      給分標準: 1,\n      給分:\n        form.iir_1 == \"\" && form.iir_2 == \"\"\n          ? null\n          : `${form.iir_1 ? \"✓\" : \"✗\"}`,\n    },\n    { 評分數據: \"\", 評分標準: \"\", 給分標準: \"總分\", 給分: total.value },\n  ];\n  const hasNullScore = data.some((row) => {\n    return row.給分 === null;\n  });\n\n  if (!stock.value) {\n    alert(\"請輸入股票代碼\");\n    return;\n  }\n  if (hasNullScore) {\n    alert(\"請在匯出CSV之前勾選所有評分\");\n    return;\n  }\n  const csv = Papa.unparse(data, {\n    encoding: \"utf-8\",\n    quotes: true,\n    quoteChar: '\"',\n    escapeChar: '\"',\n    delimiter: \",\",\n    header: true,\n    newline: \"\\r\\n\",\n    skipEmptyLines: true,\n  });\n  const blob = new Blob([new Uint8Array([0xef, 0xbb, 0xbf]), csv], {\n    type: \"text/csv;charset=utf-8;\",\n  });\n  const url = window.URL.createObjectURL(blob);\n  const link = document.createElement(\"a\");\n  link.href = url;\n  // Get the current date\n  const currentDate = new Date();\n  const year = currentDate.getFullYear();\n  const month = String(currentDate.getMonth() + 1).padStart(2, \"0\");\n  const day = String(currentDate.getDate()).padStart(2, \"0\");\n  // Construct the filename with the current date\n  const filename = `${year}${month}${day}_${stock.value}_【銀行股】評分標準.csv`;\n  link.download = filename;\n  link.click();\n  window.URL.revokeObjectURL(url);\n}\n</script>\n<style>\ntd,\nth {\n  vertical-align: middle;\n}\n/* td a {\n  color: rgba(0, 0, 0, 0.8);\n  color: #4f4f4f;\n  font-family: Lato;\n  font-size: 10pt;\n  font-weight: bold;\n  position: relative;\n  display: block;\n  text-decoration: none;\n  text-transform: uppercase;\n} */\n\n.SMN_effect-15 a:before,\n.SMN_effect-15 a:after {\n  display: inline-block;\n  opacity: 0;\n  -webkit-transition: -webkit-transform 0.3s, opacity 0.2s;\n  -moz-transition: -moz-transform 0.3s, opacity 0.2s;\n  transition: transform 0.3s, opacity 0.2s;\n}\n\n.SMN_effect-15 a:before {\n  margin-right: 10px;\n  content: \"[\";\n  -webkit-transform: translateX(20px);\n  -moz-transform: translateX(20px);\n  transform: translateX(20px);\n}\n\n.SMN_effect-15 a:after {\n  margin-left: 10px;\n  content: \"]\";\n  -webkit-transform: translateX(-20px);\n  -moz-transform: translateX(-20px);\n  transform: translateX(-20px);\n}\n\n.SMN_effect-15 a:hover:before,\n.SMN_effect-15 a:hover:after,\n.SMN_effect-15 a:focus:before,\n.SMN_effect-15 a:focus:after {\n  opacity: 1;\n  -webkit-transform: translateX(0px);\n  -moz-transform: translateX(0px);\n  transform: translateX(0px);\n}\n\n.title {\n  background-color: #aebad2;\n}\n\n.table .b_body tr:first-child th,\n.table .b_body tr:nth-child(2) th,\n.table .b_body tr:nth-child(5) th,\n.table .b_body tr:nth-child(6) th,\n.table .b_body tr:nth-child(7) th,\n.table .b_body tr:nth-child(8) th,\n.table .b_body tr:nth-child(9) th,\n.table .b_body tr:nth-child(10) th,\n.table .b_body tr:nth-child(12) th {\n  background-color: #f6b3bb;\n}\n\n.table .b_body tr:nth-child(2),\n.table .b_body tr:nth-child(3),\n.table .b_body tr:nth-child(4),\n.table .b_body tr:nth-child(5),\n.table .b_body tr:nth-child(6),\n.table .b_body tr:nth-child(7),\n.table .b_body tr:nth-child(8),\n.table .b_body tr:nth-child(9),\n.table .b_body tr:nth-child(10),\n.table .b_body tr:nth-child(11),\n.table .b_body tr:nth-child(12),\n.table .b_body tr:nth-child(13) {\n  background-color: #eee7e7;\n}\n\n.table .b_body tr:nth-child(2) td:nth-child(4),\n.table .b_body tr:nth-child(3) td:nth-child(3),\n.table .b_body tr:nth-child(4) td:nth-child(3),\n.table .b_body tr:nth-child(5) td:nth-child(4),\n.table .b_body tr:nth-child(6) td:nth-child(4),\n.table .b_body tr:nth-child(7) td:nth-child(4),\n.table .b_body tr:nth-child(8) td:nth-child(4),\n.table .b_body tr:nth-child(9) td:nth-child(4),\n.table .b_body tr:nth-child(10) td:nth-child(4),\n.table .b_body tr:nth-child(11) td:nth-child(3),\n.table .b_body tr:nth-child(12) td:nth-child(4) {\n  background-color: #fff;\n}\n\n.error-message {\n  white-space: nowrap;\n}\n\n.button-group button {\n  margin-top: 10px;\n  margin-right: 10px;\n}\n\n.frac {\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n  letter-spacing: 0.001em;\n  text-align: center;\n}\n.frac > span {\n  display: block;\n  padding: 0.1em;\n}\n.frac > input {\n  display: block;\n  padding: 0.1em;\n}\n.frac span.bottom {\n  border-top: 3px solid red;\n}\n.frac div.bottom {\n  border-top: 3px solid black;\n  margin: 10px;\n}\n.calculate {\n  margin-top: 60px;\n}\n#modalButton {\n  margin-bottom: 20px;\n}\n.input-group-sm {\n  /* font-size: 12px !important; */\n  width: 155px !important;\n  text-align: center;\n}\n.input-text {\n  text-align: center;\n}\n</style>\n","import script from \"./Bank.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Bank.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Bank.vue?vue&type=style&index=0&id=60fe7a25&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"d-flex justify-content-center\">\n    <div class=\"col-md-3\">\n      <vue-latex :expression=\"'年化報酬率 = \\\\sqrt[年數]{\\\\frac{投資總淨值}{總投入資金}}'\" display-mode fontsize=\"20\" />\n      <div>\n        <div class=\"form-group-1\">\n          <label for=\"capital\">總投入資金</label>\n          <div class=\"input-group\">\n            <vue-number class=\"form-control\" id=\"capital\" v-model=\"form.capital\"\n              :class=\"{ 'is-invalid': validate.isCapitalEmpty }\" @keyup.enter=\"calculate()\" />\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-outline-secondary\" @click=\"addZeros('capital', 1)\">0</button>\n              <button class=\"btn btn-outline-secondary\" @click=\"addZeros('capital', 2)\">00</button>\n              <button class=\"btn btn-outline-secondary\" @click=\"addZeros('capital', 3)\">000</button>\n              <button class=\"btn btn-outline-secondary\" @click=\"addZeros('capital', 4)\">萬</button>\n            </div>\n            <div v-if=\"validate.isCapitalEmpty\" class=\"invalid-feedback\">\n              總投入資金不得為空\n            </div>\n          </div>\n        </div>\n        <div class=\"form-group-1\">\n          <label for=\"investment\">投資總淨值</label>\n          <div class=\"input-group\">\n            <vue-number class=\"form-control\" id=\"investment\" v-model=\"form.investment\"\n              :class=\"{ 'is-invalid': validate.isInvestmentEmpty }\" @keyup.enter=\"calculate()\" />\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-outline-secondary\" @click=\"addZeros('investment', 1)\">0</button>\n              <button class=\"btn btn-outline-secondary\" @click=\"addZeros('investment', 2)\">00</button>\n              <button class=\"btn btn-outline-secondary\" @click=\"addZeros('investment', 3)\">000</button>\n              <button class=\"btn btn-outline-secondary\" @click=\"addZeros('investment', 4)\">萬</button>\n            </div>\n            <div v-if=\"validate.isInvestmentEmpty\" class=\"invalid-feedback\">\n              投資總淨值不得為空\n            </div>\n          </div>\n        </div>\n        <div class=\"form-group-1\">\n          <label for=\"years\">年數</label>\n          <div class=\"input-group\">\n            <input type=\"number\" class=\"form-control\" id=\"years\" v-model=\"form.years\"\n              :class=\"{ 'is-invalid': validate.isYearsEmpty || validate.isYearGreaterThanZero }\"\n              @keyup.enter=\"calculate()\">\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-outline-secondary\" @click=\"setYears(1)\">1</button>\n              <button class=\"btn btn-outline-secondary\" @click=\"setYears(3)\">3</button>\n              <button class=\"btn btn-outline-secondary\" @click=\"setYears(5)\">5</button>\n              <button class=\"btn btn-outline-secondary\" @click=\"setYears(7)\">7</button>\n              <button class=\"btn btn-outline-secondary\" @click=\"setYears(10)\">10</button>\n            </div>\n            <div v-if=\"validate.isYearsEmpty\" class=\"invalid-feedback\">\n              年數不得為空\n            </div>\n            <div v-if=\"validate.isYearGreaterThanZero\" class=\"invalid-feedback\">\n              年數必須大於0\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"button-group\">\n        <button class=\"btn btn-primary\" @click=\"calculate\" :disabled=\"isDisabled\">\n          <font-awesome-icon icon=\"fa-divide\" />\n          計算\n        </button>\n        <button class=\"btn btn-secondary\" @click=\"clear\" :disabled=\"isDisabled\">\n          <font-awesome-icon icon=\"fa-eraser\" />\n          清除\n        </button>\n      </div>\n      <vue-latex :expression=\"result\" display-mode fontsize=\"22\" />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { VueLatex } from \"vatex\";\nimport { reactive, ref, watch } from \"vue\";\nimport { component as VueNumber } from \"@coders-tm/vue-number-format\";\nconst form = reactive({\n  // 投資總淨值\n  investment: \"\",\n  // 總投入資金\n  capital: \"\",\n  // 年數\n  years: \"\",\n});\n\nconst validate = reactive({\n  isInvestmentEmpty: false,\n  isCapitalEmpty: false,\n  isYearsEmpty: false,\n  isYearGreaterThanZero: false,\n});\nlet result = ref(\"\");\n\nwatch(\n  () => form.investment,\n  (newValue) => {\n    if (newValue) {\n      validate.isInvestmentEmpty = false;\n    }\n  }\n);\n\nwatch(\n  () => form.capital,\n  (newValue) => {\n    if (newValue) {\n      validate.isCapitalEmpty = false;\n    }\n  }\n);\n\nwatch(\n  () => form.years,\n  (newValue) => {\n    if (newValue) {\n      validate.isYearsEmpty = false;\n      if (newValue < 0) {\n        validate.isYearGreaterThanZero = true;\n      } else {\n        validate.isYearGreaterThanZero = false;\n      }\n    }\n  }\n);\n\n// 添加0\nfunction addZeros(inputField, zeros) {\n  if (inputField === \"investment\" && form.investment) {\n    form.investment += \"0\".repeat(zeros);\n  } else if (inputField === \"capital\" && form.capital) {\n    form.capital += \"0\".repeat(zeros);\n  }\n}\n\n// 設置年數\nfunction setYears(years) {\n  form.years = years;\n}\n\nfunction calculate() {\n  if (checkEmpty()) {\n    // 執行開根號\n    const number = Math.pow(form.investment / form.capital, 1 / form.years);\n    // 將結果四捨五入取到小數點後兩位\n    const roundedResult = (number - 1) * 100;\n    // 將結果轉換為百分比形式\n    const percentageResult = `${roundedResult.toFixed(2)}`;\n    result.value = `\\\\sqrt[${form.years}]{\\\\frac{${formatNumber(\n      form.investment\n    )}}{${formatNumber(form.capital)}}} = ${percentageResult}\\\\%`;\n  }\n}\n\nfunction formatNumber(value) {\n  if (!value) return \"\";\n  return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nfunction checkEmpty() {\n  if (!form.investment && !form.capital && !form.years) {\n    validate.isInvestmentEmpty = true;\n    validate.isCapitalEmpty = true;\n    validate.isYearsEmpty = true;\n    return false;\n  }\n  if (!form.investment && !form.capital) {\n    validate.isInvestmentEmpty = true;\n    validate.isCapitalEmpty = true;\n    return false;\n  }\n  if (!form.capital && !form.years) {\n    validate.isCapitalEmpty = true;\n    validate.isYearsEmpty = true;\n    return false;\n  }\n  if (!form.investment && !form.years) {\n    validate.isInvestmentEmpty = true;\n    validate.isYearsEmpty = true;\n  }\n  if (!form.investment) {\n    validate.isInvestmentEmpty = true;\n    return false;\n  }\n  if (!form.capital) {\n    validate.isCapitalEmpty = true;\n    return false;\n  }\n  if (!form.years) {\n    validate.isYearsEmpty = true;\n    return false;\n  } else if (form.years < 1) {\n    validate.isYearGreaterThanZero = true;\n    return false;\n  }\n\n  return true;\n}\n\nfunction clear() {\n  form.investment = \"\";\n  form.capital = \"\";\n  form.years = \"\";\n  result.value = \"\";\n}\n</script>\n\n<style scoped>\n.form-group-1 {\n  margin-bottom: 1rem;\n}\n</style>\n\n","import script from \"./RoiCalculator.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RoiCalculator.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RoiCalculator.vue?vue&type=style&index=0&id=3ae64838&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Lin\\\\Documents\\\\Studio\\\\project\\\\VIP\\\\financial-report-analysis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3ae64838\"]])\n\nexport default __exports__","import { createRouter, createWebHashHistory, RouteRecordRaw } from \"vue-router\";\nimport FinancialReport from \"../components/FinancialReport.vue\";\nimport Moat from \"../components/Moat.vue\";\nimport Risk from \"../components/Risk.vue\";\nimport Instructions from \"../components/Instructions.vue\";\nimport Reits from \"../components/RealEstateInvestmentTrust.vue\";\n// import Test from \"../components/Test.vue\";\nimport Bank from \"../components/Bank.vue\";\nimport Roi from \"../components/RoiCalculator.vue\";\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: \"/\",\n    name: \"home\",\n    component: Instructions,\n  },\n  // {\n  //   path: \"/test\",\n  //   name: \"test\",\n  //   component: Test,\n  // },\n  {\n    path: \"/instructions\",\n    name: \"instructions\",\n    component: Instructions,\n  },\n  {\n    path: \"/report\",\n    name: \"report\",\n    component: FinancialReport,\n  },\n  {\n    path: \"/moat\",\n    name: \"moat\",\n    component: Moat,\n  },\n  {\n    path: \"/risk\",\n    name: \"risk\",\n    component: Risk,\n  },\n  {\n    path: \"/reits\",\n    name: \"reits\",\n    component: Reits,\n  },\n  {\n    path: \"/bank\",\n    name: \"bank\",\n    component: Bank,\n  },\n  {\n    path: \"/roi\",\n    name: \"roi\",\n    component: Roi,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes,\n});\n\nexport default router;\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport VueLatex from \"vatex\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faRotateLeft,\n  faCheck,\n  faEnvelope,\n  faXmark,\n  faDivide,\n  faWindowRestore,\n  faEraser,\n  faMagnifyingGlass,\n  faPaste,\n  faClipboard,\n  faEdit,\n  faWarning,\n  faFileCsv,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport \"bootstrap/dist/js/bootstrap.js\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport VueNumberFormat from \"@coders-tm/vue-number-format\";\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\n\nlibrary.add(faRotateLeft);\nlibrary.add(faCheck);\nlibrary.add(faXmark);\nlibrary.add(faDivide);\nlibrary.add(faWindowRestore);\nlibrary.add(faEraser);\nlibrary.add(faMagnifyingGlass);\nlibrary.add(faPaste);\nlibrary.add(faClipboard);\nlibrary.add(faEdit);\nlibrary.add(faWarning);\nlibrary.add(faEnvelope);\nlibrary.add(faFileCsv);\n\ncreateApp(App)\n  .use(router)\n  .use(VueLatex)\n  .use(VueNumberFormat)\n  .use(ElementPlus)\n  .component(\"font-awesome-icon\", FontAwesomeIcon)\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkanalyze\"] = self[\"webpackChunkanalyze\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(7880); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_","class","__name","setup","__props","activeIndex","_ctx","_cache","_component_el_menu_item","_component_el_sub_menu","_component_el_menu","_component_router_view","value","mode","router","default","index","title","__exports__","_withScopeId","n","style","target","href","key","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","for","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","morningStarIndex","stockAnalysisInedx","morningStarUrl","stockAnalysisUrl","morningStarFinancialsUrl","morningStarValuationUrl","morningStarDividendUrl","finnhubNameAPI","stockCode","finnhubAPI","stock","stockName","stockPrice","isEdit","isStockEmpty","stockExsits","isCallLimitReached","isLoading","isDisabled","errorMessage","stockPriceErrorMessage","rule","required","v$","searchStock","$invalid","axios","profileResponse","companyName","data","name","fetch","priceResponse","json","priceData","c","stockSymbol","xnasValuationUrl","xnysValuationUrl","batsValuationUrl","pinxValuationUrl","checkURL","isXnasValid","isXnysValid","isBatsValid","isPinxValid","console","error","toUpperCase","log","isLetterOrDot","e","char","String","fromCharCode","keyCode","regex","test","preventDefault","clear","isCopied","stockField","edit","reset","focus","setSelectionRange","length","dialogTableVisible","errorVisible","url","method","response","ok","status","Error","generateLink","includes","window","open","openUrls","totalScore","eps1Points","eps2Points","net1Points","net2Points","roe1Points","roe2Points","ic1Points","ic2Points","dePoints","bvpsPoints","fcfPoints","divdend1Points","divdend2Points","sharesPoints","giveScore","row","parseFloat","scoreStandard","noScore","tableData","indicator","standard","score","indicators","rowspan","objectSpanMethod","columnIndex","colspan","indicatorName","toString","calculateTotalScore","deep","toClipboard","touchCopy","setTimeout","isTotalCopied","touchCopyTotal","JSON","stringify","forEach","exportToCSV","csvData","map","push","hasNullScore","some","alert","csv","encoding","quotes","quoteChar","escapeChar","delimiter","header","newline","skipEmptyLines","blob","Blob","Uint8Array","type","URL","createObjectURL","link","document","createElement","currentDate","Date","year","getFullYear","month","getMonth","padStart","day","getDate","filename","download","click","revokeObjectURL","_component_el_dialog","_component_font_awesome_icon","_component_el_button","_component_el_table_column","_component_el_link","_component_el_table","_component_el_col","_component_el_row","modelValue","$event","width","id","disabled","onClick","icon","onKeypress","maxlength","placeholder","onKeyup","ref_key","ref","plain","size","border","prop","label","scope","$index","underline","span","form","brand_1","brand_2","patent_1","patent_2","costAdvantage_1","costAdvantage_2","conversionCost_1","conversionCost_2","networkEffect_1","networkEffect_2","nicheMarket_1","nicheMarket_2","confidence_1","confidence_2","brandPoints","patentPoints","costAdvantagePoints","conversionCostPonits","networkEffectPoints","nicheMarketPoints","confidencePoints","total","brandGivePoint","brandNoGivePoint","patentGivePoint","patentNoGivePoint","costAdvantageGivePoint","costAdvantageNoGivePoint","conversionCostGivePoint","conversionCostNoGivePoint","networkEffectGivePoint","networkEffectNoGivePoint","nicheMarketGivePoint","nicheMarketNoGivePoint","confidenceGivePoint","confidenceNoGivePoint","count","stockUpperCase","technologyRisk_1","technologyRisk_2","governmentRisk_1","governmentRisk_2","chinaRisk_1","chinaRisk_2","technologyRiskPoint","governmentRiskPoint","chinaRiskPoint","technologyRiskDeductPoint","technologyRiskNoDeductPoint","governmentRiskDeductPoint","governmentRiskNoDeductPoint","chinaRiskDeductPoint","chinaRiskNoDeductPoint","isEmailCopied","async","copyEmail","isSubjectCopied","copySubject","backdropClick","event","props","closeable","emit","errorModal","divdend1_1","divdend1_2","divdend2_1","divdend2_2","divdend3_1","divdend3_2","eps_1","eps_2","shares_1","shares_2","de_1","de_2","roe_1","roe_2","bvps_1","bvps_2","fcf_1","fcf_2","ffo_1","ffo_2","net1_1","net1_2","net2_1","net2_2","ic1_1","ic1_2","ic2_1","ic2_2","divdend3Points","epsPoints","roePoints","ffoPoints","isNoDivdend","noDivdends","isShowDividendUrl","divdend1GetPoint","divdend1NotGetPoint","divdend2GetPoint","divdend2NotGetPoint","divdend3GetPoint","divdend3NotGetPoint","epsGetPoint","epsNotGetPoint","sharesGetPoint","sharesNotGetPoint","deGetPoint","deNotGetPoint","roeGetPoint","roeNotGetPoint","bvpsGetPoint","bvpsNotGetPoint","fcfGetPoint","fcfNotGetPoint","ffoGetPoint","ffoNotGetPoint","net1GetPoint","net1NotGetPoint","net2GetPoint","net2NotGetPoint","ic1GetPoint","ic1NotGetPoint","ic2GetPoint","ic2NotGetPoint","newValues","every","newValue","stockRowIndex","gurufocusIndex","marketWatchIndex","stockrowUrl","incomeUrl","balanceSheetUrl","mertricsUrl","gurufocusUrl","marketWatchUrl","AlphaVantageNameAPI","AlphaVantageGlobalAPI","confirm","AlphaVantageNameResponse","nameData","bestMatches","matches","GlobalResponse","GlobalData","price","Number","toFixed","closeableModal","roa_1","roa_2","iir_1","iir_2","roaPoints","iirPoints","netInterestIncome","totalRevenue","ratio","calculate","referenceValue","roaGetPoint","roaNotGetPoint","iirGetPoint","iirNotGetPoint","investment","capital","years","validate","isInvestmentEmpty","isCapitalEmpty","isYearsEmpty","isYearGreaterThanZero","result","addZeros","inputField","zeros","repeat","setYears","checkEmpty","number","Math","pow","roundedResult","percentageResult","formatNumber","replace","routes","path","component","Instructions","FinancialReport","Moat","Risk","Bank","history","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","obj","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}